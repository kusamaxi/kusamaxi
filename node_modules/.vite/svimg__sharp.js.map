{
  "version": 3,
  "sources": ["browser-external:util", "browser-external:stream", "../sharp/lib/is.js", "browser-external:fs", "browser-external:os", "browser-external:path", "browser-external:child_process", "../semver/internal/debug.js", "../semver/internal/constants.js", "../semver/internal/re.js", "../semver/internal/parse-options.js", "../semver/internal/identifiers.js", "../semver/classes/semver.js", "../semver/functions/parse.js", "../semver/functions/coerce.js", "../semver/functions/compare.js", "../semver/functions/gte.js", "../detect-libc/lib/detect-libc.js", "../sharp/lib/platform.js", "../sharp/lib/libvips.js", "../sharp/lib/sharp.js", "../sharp/lib/constructor.js", "../color-name/index.js", "../is-arrayish/index.js", "../simple-swizzle/index.js", "../color-string/index.js", "../color-convert/conversions.js", "../color-convert/route.js", "../color-convert/index.js", "../color/index.js", "../sharp/lib/input.js", "../sharp/lib/resize.js", "../sharp/lib/composite.js", "../sharp/lib/operation.js", "../sharp/lib/colour.js", "../sharp/lib/channel.js", "../sharp/lib/output.js", "browser-external:events", "../sharp/lib/utility.js", "../sharp/lib/index.js", "dep:svimg__sharp"],
  "sourcesContent": ["export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"util\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"stream\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "'use strict';\n\n/**\n * Is this value defined and not null?\n * @private\n */\nconst defined = function (val) {\n  return typeof val !== 'undefined' && val !== null;\n};\n\n/**\n * Is this value an object?\n * @private\n */\nconst object = function (val) {\n  return typeof val === 'object';\n};\n\n/**\n * Is this value a plain object?\n * @private\n */\nconst plainObject = function (val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n};\n\n/**\n * Is this value a function?\n * @private\n */\nconst fn = function (val) {\n  return typeof val === 'function';\n};\n\n/**\n * Is this value a boolean?\n * @private\n */\nconst bool = function (val) {\n  return typeof val === 'boolean';\n};\n\n/**\n * Is this value a Buffer object?\n * @private\n */\nconst buffer = function (val) {\n  return val instanceof Buffer;\n};\n\n/**\n * Is this value a typed array object?. E.g. Uint8Array or Uint8ClampedArray?\n * @private\n */\nconst typedArray = function (val) {\n  if (defined(val)) {\n    switch (val.constructor) {\n      case Uint8Array:\n      case Uint8ClampedArray:\n      case Int8Array:\n      case Uint16Array:\n      case Int16Array:\n      case Uint32Array:\n      case Int32Array:\n      case Float32Array:\n      case Float64Array:\n        return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * Is this value a non-empty string?\n * @private\n */\nconst string = function (val) {\n  return typeof val === 'string' && val.length > 0;\n};\n\n/**\n * Is this value a real number?\n * @private\n */\nconst number = function (val) {\n  return typeof val === 'number' && !Number.isNaN(val);\n};\n\n/**\n * Is this value an integer?\n * @private\n */\nconst integer = function (val) {\n  return Number.isInteger(val);\n};\n\n/**\n * Is this value within an inclusive given range?\n * @private\n */\nconst inRange = function (val, min, max) {\n  return val >= min && val <= max;\n};\n\n/**\n * Is this value within the elements of an array?\n * @private\n */\nconst inArray = function (val, list) {\n  return list.includes(val);\n};\n\n/**\n * Create an Error with a message relating to an invalid parameter.\n *\n * @param {string} name - parameter name.\n * @param {string} expected - description of the type/value/range expected.\n * @param {*} actual - the value received.\n * @returns {Error} Containing the formatted message.\n * @private\n */\nconst invalidParameterError = function (name, expected, actual) {\n  return new Error(\n    `Expected ${expected} for ${name} but received ${actual} of type ${typeof actual}`\n  );\n};\n\nmodule.exports = {\n  defined: defined,\n  object: object,\n  plainObject: plainObject,\n  fn: fn,\n  bool: bool,\n  buffer: buffer,\n  typedArray: typedArray,\n  string: string,\n  number: number,\n  integer: integer,\n  inRange: inRange,\n  inArray: inArray,\n  invalidParameterError: invalidParameterError\n};\n", "export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"fs\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"os\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"path\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"child_process\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n", "const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n", "// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n", "const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n", "const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n", "const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n", "const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "'use strict';\n\nvar platform = require('os').platform();\nvar spawnSync = require('child_process').spawnSync;\nvar readdirSync = require('fs').readdirSync;\n\nvar GLIBC = 'glibc';\nvar MUSL = 'musl';\n\nvar spawnOptions = {\n  encoding: 'utf8',\n  env: process.env\n};\n\nif (!spawnSync) {\n  spawnSync = function () {\n    return { status: 126, stdout: '', stderr: '' };\n  };\n}\n\nfunction contains (needle) {\n  return function (haystack) {\n    return haystack.indexOf(needle) !== -1;\n  };\n}\n\nfunction versionFromMuslLdd (out) {\n  return out.split(/[\\r\\n]+/)[1].trim().split(/\\s/)[1];\n}\n\nfunction safeReaddirSync (path) {\n  try {\n    return readdirSync(path);\n  } catch (e) {}\n  return [];\n}\n\nvar family = '';\nvar version = '';\nvar method = '';\n\nif (platform === 'linux') {\n  // Try getconf\n  var glibc = spawnSync('getconf', ['GNU_LIBC_VERSION'], spawnOptions);\n  if (glibc.status === 0) {\n    family = GLIBC;\n    version = glibc.stdout.trim().split(' ')[1];\n    method = 'getconf';\n  } else {\n    // Try ldd\n    var ldd = spawnSync('ldd', ['--version'], spawnOptions);\n    if (ldd.status === 0 && ldd.stdout.indexOf(MUSL) !== -1) {\n      family = MUSL;\n      version = versionFromMuslLdd(ldd.stdout);\n      method = 'ldd';\n    } else if (ldd.status === 1 && ldd.stderr.indexOf(MUSL) !== -1) {\n      family = MUSL;\n      version = versionFromMuslLdd(ldd.stderr);\n      method = 'ldd';\n    } else {\n      // Try filesystem (family only)\n      var lib = safeReaddirSync('/lib');\n      if (lib.some(contains('-linux-gnu'))) {\n        family = GLIBC;\n        method = 'filesystem';\n      } else if (lib.some(contains('libc.musl-'))) {\n        family = MUSL;\n        method = 'filesystem';\n      } else if (lib.some(contains('ld-musl-'))) {\n        family = MUSL;\n        method = 'filesystem';\n      } else {\n        var usrSbin = safeReaddirSync('/usr/sbin');\n        if (usrSbin.some(contains('glibc'))) {\n          family = GLIBC;\n          method = 'filesystem';\n        }\n      }\n    }\n  }\n}\n\nvar isNonGlibcLinux = (family !== '' && family !== GLIBC);\n\nmodule.exports = {\n  GLIBC: GLIBC,\n  MUSL: MUSL,\n  family: family,\n  version: version,\n  method: method,\n  isNonGlibcLinux: isNonGlibcLinux\n};\n", "'use strict';\n\nconst detectLibc = require('detect-libc');\n\nconst env = process.env;\n\nmodule.exports = function () {\n  const arch = env.npm_config_arch || process.arch;\n  const platform = env.npm_config_platform || process.platform;\n  /* istanbul ignore next */\n  const libc = (platform === 'linux' && detectLibc.isNonGlibcLinux) ? detectLibc.family : '';\n\n  const platformId = [`${platform}${libc}`];\n\n  if (arch === 'arm') {\n    const fallback = process.versions.electron ? '7' : '6';\n    platformId.push(`armv${env.npm_config_arm_version || process.config.variables.arm_version || fallback}`);\n  } else if (arch === 'arm64') {\n    platformId.push(`arm64v${env.npm_config_arm_version || '8'}`);\n  } else {\n    platformId.push(arch);\n  }\n\n  return platformId.join('-');\n};\n", "'use strict';\n\nconst fs = require('fs');\nconst os = require('os');\nconst path = require('path');\nconst spawnSync = require('child_process').spawnSync;\nconst semverCoerce = require('semver/functions/coerce');\nconst semverGreaterThanOrEqualTo = require('semver/functions/gte');\n\nconst platform = require('./platform');\n\nconst env = process.env;\nconst minimumLibvipsVersionLabelled = env.npm_package_config_libvips || /* istanbul ignore next */\n  require('../package.json').config.libvips;\nconst minimumLibvipsVersion = semverCoerce(minimumLibvipsVersionLabelled).version;\n\nconst spawnSyncOptions = {\n  encoding: 'utf8',\n  shell: true\n};\n\nconst mkdirSync = function (dirPath) {\n  try {\n    fs.mkdirSync(dirPath, { recursive: true });\n  } catch (err) {\n    /* istanbul ignore next */\n    if (err.code !== 'EEXIST') {\n      throw err;\n    }\n  }\n};\n\nconst cachePath = function () {\n  const npmCachePath = env.npm_config_cache || /* istanbul ignore next */\n    (env.APPDATA ? path.join(env.APPDATA, 'npm-cache') : path.join(os.homedir(), '.npm'));\n  mkdirSync(npmCachePath);\n  const libvipsCachePath = path.join(npmCachePath, '_libvips');\n  mkdirSync(libvipsCachePath);\n  return libvipsCachePath;\n};\n\nconst log = function (item) {\n  if (item instanceof Error) {\n    console.error(`sharp: Installation error: ${item.message}`);\n  } else {\n    console.log(`sharp: ${item}`);\n  }\n};\n\nconst isRosetta = function () {\n  /* istanbul ignore next */\n  if (process.platform === 'darwin' && process.arch === 'x64') {\n    const translated = spawnSync('sysctl sysctl.proc_translated', spawnSyncOptions).stdout;\n    return (translated || '').trim() === 'sysctl.proc_translated: 1';\n  }\n  return false;\n};\n\nconst globalLibvipsVersion = function () {\n  if (process.platform !== 'win32') {\n    const globalLibvipsVersion = spawnSync(`PKG_CONFIG_PATH=\"${pkgConfigPath()}\" pkg-config --modversion vips-cpp`, spawnSyncOptions).stdout;\n    /* istanbul ignore next */\n    return (globalLibvipsVersion || '').trim();\n  } else {\n    return '';\n  }\n};\n\nconst hasVendoredLibvips = function () {\n  const vendorPath = path.join(__dirname, '..', 'vendor', minimumLibvipsVersion, platform());\n  return fs.existsSync(vendorPath);\n};\n\nconst pkgConfigPath = function () {\n  if (process.platform !== 'win32') {\n    const brewPkgConfigPath = spawnSync('which brew >/dev/null 2>&1 && eval $(brew --env) && echo $PKG_CONFIG_LIBDIR', spawnSyncOptions).stdout || '';\n    return [brewPkgConfigPath.trim(), env.PKG_CONFIG_PATH, '/usr/local/lib/pkgconfig', '/usr/lib/pkgconfig']\n      .filter(function (p) { return !!p; })\n      .join(':');\n  } else {\n    return '';\n  }\n};\n\nconst useGlobalLibvips = function () {\n  if (Boolean(env.SHARP_IGNORE_GLOBAL_LIBVIPS) === true) {\n    return false;\n  }\n  /* istanbul ignore next */\n  if (isRosetta()) {\n    return false;\n  }\n  const globalVipsVersion = globalLibvipsVersion();\n  return !!globalVipsVersion && /* istanbul ignore next */\n    semverGreaterThanOrEqualTo(globalVipsVersion, minimumLibvipsVersion);\n};\n\nmodule.exports = {\n  minimumLibvipsVersion,\n  minimumLibvipsVersionLabelled,\n  cachePath,\n  log,\n  globalLibvipsVersion,\n  hasVendoredLibvips,\n  pkgConfigPath,\n  useGlobalLibvips,\n  mkdirSync\n};\n", "'use strict';\n\nconst platformAndArch = require('./platform')();\n\n/* istanbul ignore next */\ntry {\n  module.exports = require(`../build/Release/sharp-${platformAndArch}.node`);\n} catch (err) {\n  // Bail early if bindings aren't available\n  const help = ['', 'Something went wrong installing the \"sharp\" module', '', err.message, '', 'Possible solutions:'];\n  if (/dylib/.test(err.message) && /Incompatible library version/.test(err.message)) {\n    help.push('- Update Homebrew: \"brew update && brew upgrade vips\"');\n  } else {\n    help.push(\n      '- Install with the --verbose flag and look for errors: \"npm install --ignore-scripts=false --verbose sharp\"',\n      `- Install for the current runtime: \"npm install --platform=${process.platform} --arch=${process.arch} sharp\"`\n    );\n  }\n  help.push(\n    '- Consult the installation documentation: https://sharp.pixelplumbing.com/install'\n  );\n  // Check loaded\n  if (process.platform === 'win32') {\n    const loadedModule = Object.keys(require.cache).find((i) => /[\\\\/]build[\\\\/]Release[\\\\/]sharp(.*)\\.node$/.test(i));\n    if (loadedModule) {\n      const [, loadedPackage] = loadedModule.match(/node_modules[\\\\/]([^\\\\/]+)[\\\\/]/);\n      help.push(`- Ensure the version of sharp aligns with the ${loadedPackage} package: \"npm ls sharp\"`);\n    }\n  }\n  throw new Error(help.join('\\n'));\n}\n", "'use strict';\n\nconst util = require('util');\nconst stream = require('stream');\nconst is = require('./is');\n\nrequire('./libvips').hasVendoredLibvips();\nrequire('./sharp');\n\n// Use NODE_DEBUG=sharp to enable libvips warnings\nconst debuglog = util.debuglog('sharp');\n\n/**\n * Constructor factory to create an instance of `sharp`, to which further methods are chained.\n *\n * JPEG, PNG, WebP, AVIF or TIFF format image data can be streamed out from this object.\n * When using Stream based output, derived attributes are available from the `info` event.\n *\n * Non-critical problems encountered during processing are emitted as `warning` events.\n *\n * Implements the [stream.Duplex](http://nodejs.org/api/stream.html#stream_class_stream_duplex) class.\n *\n * @constructs Sharp\n *\n * @emits Sharp#info\n * @emits Sharp#warning\n *\n * @example\n * sharp('input.jpg')\n *   .resize(300, 200)\n *   .toFile('output.jpg', function(err) {\n *     // output.jpg is a 300 pixels wide and 200 pixels high image\n *     // containing a scaled and cropped version of input.jpg\n *   });\n *\n * @example\n * // Read image data from readableStream,\n * // resize to 300 pixels wide,\n * // emit an 'info' event with calculated dimensions\n * // and finally write image data to writableStream\n * var transformer = sharp()\n *   .resize(300)\n *   .on('info', function(info) {\n *     console.log('Image height is ' + info.height);\n *   });\n * readableStream.pipe(transformer).pipe(writableStream);\n *\n * @example\n * // Create a blank 300x200 PNG image of semi-transluent red pixels\n * sharp({\n *   create: {\n *     width: 300,\n *     height: 200,\n *     channels: 4,\n *     background: { r: 255, g: 0, b: 0, alpha: 0.5 }\n *   }\n * })\n * .png()\n * .toBuffer()\n * .then( ... );\n *\n * @example\n * // Convert an animated GIF to an animated WebP\n * await sharp('in.gif', { animated: true }).toFile('out.webp');\n *\n * @example\n * // Read a raw array of pixels and save it to a png\n * const input = Uint8Array.from([255, 255, 255, 0, 0, 0]); // or Uint8ClampedArray\n * const image = sharp(input, {\n *   // because the input does not contain its dimensions or how many channels it has\n *   // we need to specify it in the constructor options\n *   raw: {\n *     width: 2,\n *     height: 1,\n *     channels: 3\n *   }\n * });\n * await image.toFile('my-two-pixels.png');\n *\n * @example\n * // Generate RGB Gaussian noise\n * await sharp({\n *   create: {\n *     width: 300,\n *     height: 200,\n *     channels: 3,\n *     noise: {\n *       type: 'gaussian',\n *       mean: 128,\n *       sigma: 30\n *     }\n *  }\n * }).toFile('noise.png');\n *\n * @param {(Buffer|Uint8Array|Uint8ClampedArray|Int8Array|Uint16Array|Int16Array|Uint32Array|Int32Array|Float32Array|Float64Array|string)} [input] - if present, can be\n *  a Buffer / Uint8Array / Uint8ClampedArray containing JPEG, PNG, WebP, AVIF, GIF, SVG or TIFF image data, or\n *  a TypedArray containing raw pixel image data, or\n *  a String containing the filesystem path to an JPEG, PNG, WebP, AVIF, GIF, SVG or TIFF image file.\n *  JPEG, PNG, WebP, AVIF, GIF, SVG, TIFF or raw pixel image data can be streamed into the object when not present.\n * @param {Object} [options] - if present, is an Object with optional attributes.\n * @param {boolean} [options.failOnError=true] - by default halt processing and raise an error when loading invalid images.\n *  Set this flag to `false` if you'd rather apply a \"best effort\" to decode images, even if the data is corrupt or invalid.\n * @param {number|boolean} [options.limitInputPixels=268402689] - Do not process input images where the number of pixels\n *  (width x height) exceeds this limit. Assumes image dimensions contained in the input metadata can be trusted.\n *  An integral Number of pixels, zero or false to remove limit, true to use default limit of 268402689 (0x3FFF x 0x3FFF).\n * @param {boolean} [options.sequentialRead=false] - Set this to `true` to use sequential rather than random access where possible.\n *  This can reduce memory usage and might improve performance on some systems.\n * @param {number} [options.density=72] - number representing the DPI for vector images in the range 1 to 100000.\n * @param {number} [options.pages=1] - number of pages to extract for multi-page input (GIF, WebP, AVIF, TIFF, PDF), use -1 for all pages.\n * @param {number} [options.page=0] - page number to start extracting from for multi-page input (GIF, WebP, AVIF, TIFF, PDF), zero based.\n * @param {number} [options.subifd=-1] - subIFD (Sub Image File Directory) to extract for OME-TIFF, defaults to main image.\n * @param {number} [options.level=0] - level to extract from a multi-level input (OpenSlide), zero based.\n * @param {boolean} [options.animated=false] - Set to `true` to read all frames/pages of an animated image (equivalent of setting `pages` to `-1`).\n * @param {Object} [options.raw] - describes raw pixel input image data. See `raw()` for pixel ordering.\n * @param {number} [options.raw.width] - integral number of pixels wide.\n * @param {number} [options.raw.height] - integral number of pixels high.\n * @param {number} [options.raw.channels] - integral number of channels, between 1 and 4.\n * @param {boolean} [options.raw.premultiplied] - specifies that the raw input has already been premultiplied, set to `true`\n *  to avoid sharp premultiplying the image. (optional, default `false`)\n * @param {Object} [options.create] - describes a new image to be created.\n * @param {number} [options.create.width] - integral number of pixels wide.\n * @param {number} [options.create.height] - integral number of pixels high.\n * @param {number} [options.create.channels] - integral number of channels, either 3 (RGB) or 4 (RGBA).\n * @param {string|Object} [options.create.background] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {Object} [options.create.noise] - describes a noise to be created.\n * @param {string} [options.create.noise.type] - type of generated noise, currently only `gaussian` is supported.\n * @param {number} [options.create.noise.mean] - mean of pixels in generated noise.\n * @param {number} [options.create.noise.sigma] - standard deviation of pixels in generated noise.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nconst Sharp = function (input, options) {\n  if (arguments.length === 1 && !is.defined(input)) {\n    throw new Error('Invalid input');\n  }\n  if (!(this instanceof Sharp)) {\n    return new Sharp(input, options);\n  }\n  stream.Duplex.call(this);\n  this.options = {\n    // resize options\n    topOffsetPre: -1,\n    leftOffsetPre: -1,\n    widthPre: -1,\n    heightPre: -1,\n    topOffsetPost: -1,\n    leftOffsetPost: -1,\n    widthPost: -1,\n    heightPost: -1,\n    width: -1,\n    height: -1,\n    canvas: 'crop',\n    position: 0,\n    resizeBackground: [0, 0, 0, 255],\n    useExifOrientation: false,\n    angle: 0,\n    rotationAngle: 0,\n    rotationBackground: [0, 0, 0, 255],\n    rotateBeforePreExtract: false,\n    flip: false,\n    flop: false,\n    extendTop: 0,\n    extendBottom: 0,\n    extendLeft: 0,\n    extendRight: 0,\n    extendBackground: [0, 0, 0, 255],\n    withoutEnlargement: false,\n    affineMatrix: [],\n    affineBackground: [0, 0, 0, 255],\n    affineIdx: 0,\n    affineIdy: 0,\n    affineOdx: 0,\n    affineOdy: 0,\n    affineInterpolator: this.constructor.interpolators.bilinear,\n    kernel: 'lanczos3',\n    fastShrinkOnLoad: true,\n    // operations\n    tintA: 128,\n    tintB: 128,\n    flatten: false,\n    flattenBackground: [0, 0, 0],\n    negate: false,\n    negateAlpha: true,\n    medianSize: 0,\n    blurSigma: 0,\n    sharpenSigma: 0,\n    sharpenFlat: 1,\n    sharpenJagged: 2,\n    threshold: 0,\n    thresholdGrayscale: true,\n    trimThreshold: 0,\n    gamma: 0,\n    gammaOut: 0,\n    greyscale: false,\n    normalise: false,\n    claheWidth: 0,\n    claheHeight: 0,\n    claheMaxSlope: 3,\n    brightness: 1,\n    saturation: 1,\n    hue: 0,\n    lightness: 0,\n    booleanBufferIn: null,\n    booleanFileIn: '',\n    joinChannelIn: [],\n    extractChannel: -1,\n    removeAlpha: false,\n    ensureAlpha: -1,\n    colourspace: 'srgb',\n    colourspaceInput: 'last',\n    composite: [],\n    // output\n    fileOut: '',\n    formatOut: 'input',\n    streamOut: false,\n    withMetadata: false,\n    withMetadataOrientation: -1,\n    withMetadataDensity: 0,\n    withMetadataIcc: '',\n    withMetadataStrs: {},\n    resolveWithObject: false,\n    // output format\n    jpegQuality: 80,\n    jpegProgressive: false,\n    jpegChromaSubsampling: '4:2:0',\n    jpegTrellisQuantisation: false,\n    jpegOvershootDeringing: false,\n    jpegOptimiseScans: false,\n    jpegOptimiseCoding: true,\n    jpegQuantisationTable: 0,\n    pngProgressive: false,\n    pngCompressionLevel: 6,\n    pngAdaptiveFiltering: false,\n    pngPalette: false,\n    pngQuality: 100,\n    pngBitdepth: 8,\n    pngDither: 1,\n    jp2Quality: 80,\n    jp2TileHeight: 512,\n    jp2TileWidth: 512,\n    jp2Lossless: false,\n    jp2ChromaSubsampling: '4:4:4',\n    webpQuality: 80,\n    webpAlphaQuality: 100,\n    webpLossless: false,\n    webpNearLossless: false,\n    webpSmartSubsample: false,\n    webpReductionEffort: 4,\n    tiffQuality: 80,\n    tiffCompression: 'jpeg',\n    tiffPredictor: 'horizontal',\n    tiffPyramid: false,\n    tiffBitdepth: 8,\n    tiffTile: false,\n    tiffTileHeight: 256,\n    tiffTileWidth: 256,\n    tiffXres: 1.0,\n    tiffYres: 1.0,\n    heifQuality: 50,\n    heifLossless: false,\n    heifCompression: 'av1',\n    heifSpeed: 5,\n    heifChromaSubsampling: '4:4:4',\n    rawDepth: 'uchar',\n    tileSize: 256,\n    tileOverlap: 0,\n    tileContainer: 'fs',\n    tileLayout: 'dz',\n    tileFormat: 'last',\n    tileDepth: 'last',\n    tileAngle: 0,\n    tileSkipBlanks: -1,\n    tileBackground: [255, 255, 255, 255],\n    tileCentre: false,\n    tileId: 'https://example.com/iiif',\n    timeoutSeconds: 0,\n    linearA: 1,\n    linearB: 0,\n    // Function to notify of libvips warnings\n    debuglog: warning => {\n      this.emit('warning', warning);\n      debuglog(warning);\n    },\n    // Function to notify of queue length changes\n    queueListener: function (queueLength) {\n      Sharp.queue.emit('change', queueLength);\n    }\n  };\n  this.options.input = this._createInputDescriptor(input, options, { allowStream: true });\n  return this;\n};\nObject.setPrototypeOf(Sharp.prototype, stream.Duplex.prototype);\nObject.setPrototypeOf(Sharp, stream.Duplex);\n\n/**\n * Take a \"snapshot\" of the Sharp instance, returning a new instance.\n * Cloned instances inherit the input of their parent instance.\n * This allows multiple output Streams and therefore multiple processing pipelines to share a single input Stream.\n *\n * @example\n * const pipeline = sharp().rotate();\n * pipeline.clone().resize(800, 600).pipe(firstWritableStream);\n * pipeline.clone().extract({ left: 20, top: 20, width: 100, height: 100 }).pipe(secondWritableStream);\n * readableStream.pipe(pipeline);\n * // firstWritableStream receives auto-rotated, resized readableStream\n * // secondWritableStream receives auto-rotated, extracted region of readableStream\n *\n * @example\n * // Create a pipeline that will download an image, resize it and format it to different files\n * // Using Promises to know when the pipeline is complete\n * const fs = require(\"fs\");\n * const got = require(\"got\");\n * const sharpStream = sharp({\n *   failOnError: false\n * });\n *\n * const promises = [];\n *\n * promises.push(\n *   sharpStream\n *     .clone()\n *     .jpeg({ quality: 100 })\n *     .toFile(\"originalFile.jpg\")\n * );\n *\n * promises.push(\n *   sharpStream\n *     .clone()\n *     .resize({ width: 500 })\n *     .jpeg({ quality: 80 })\n *     .toFile(\"optimized-500.jpg\")\n * );\n *\n * promises.push(\n *   sharpStream\n *     .clone()\n *     .resize({ width: 500 })\n *     .webp({ quality: 80 })\n *     .toFile(\"optimized-500.webp\")\n * );\n *\n * // https://github.com/sindresorhus/got#gotstreamurl-options\n * got.stream(\"https://www.example.com/some-file.jpg\").pipe(sharpStream);\n *\n * Promise.all(promises)\n *   .then(res => { console.log(\"Done!\", res); })\n *   .catch(err => {\n *     console.error(\"Error processing files, let's clean it up\", err);\n *     try {\n *       fs.unlinkSync(\"originalFile.jpg\");\n *       fs.unlinkSync(\"optimized-500.jpg\");\n *       fs.unlinkSync(\"optimized-500.webp\");\n *     } catch (e) {}\n *   });\n *\n * @returns {Sharp}\n */\nfunction clone () {\n  // Clone existing options\n  const clone = this.constructor.call();\n  clone.options = Object.assign({}, this.options);\n  // Pass 'finish' event to clone for Stream-based input\n  if (this._isStreamInput()) {\n    this.on('finish', () => {\n      // Clone inherits input data\n      this._flattenBufferIn();\n      clone.options.bufferIn = this.options.bufferIn;\n      clone.emit('finish');\n    });\n  }\n  return clone;\n}\nObject.assign(Sharp.prototype, { clone });\n\n/**\n * Export constructor.\n * @private\n */\nmodule.exports = Sharp;\n", "'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n", "module.exports = function isArrayish(obj) {\n\tif (!obj || typeof obj === 'string') {\n\t\treturn false;\n\t}\n\n\treturn obj instanceof Array || Array.isArray(obj) ||\n\t\t(obj.length >= 0 && (obj.splice instanceof Function ||\n\t\t\t(Object.getOwnPropertyDescriptor(obj, (obj.length - 1)) && obj.constructor.name !== 'String')));\n};\n", "'use strict';\n\nvar isArrayish = require('is-arrayish');\n\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\n\nvar swizzle = module.exports = function swizzle(args) {\n\tvar results = [];\n\n\tfor (var i = 0, len = args.length; i < len; i++) {\n\t\tvar arg = args[i];\n\n\t\tif (isArrayish(arg)) {\n\t\t\t// http://jsperf.com/javascript-array-concat-vs-push/98\n\t\t\tresults = concat.call(results, slice.call(arg));\n\t\t} else {\n\t\t\tresults.push(arg);\n\t\t}\n\t}\n\n\treturn results;\n};\n\nswizzle.wrap = function (fn) {\n\treturn function () {\n\t\treturn fn(swizzle(arguments));\n\t};\n};\n", "/* MIT license */\nvar colorNames = require('color-name');\nvar swizzle = require('simple-swizzle');\n\nvar reverseNames = {};\n\n// create a list of reverse color names\nfor (var name in colorNames) {\n\tif (colorNames.hasOwnProperty(name)) {\n\t\treverseNames[colorNames[name]] = name;\n\t}\n}\n\nvar cs = module.exports = {\n\tto: {},\n\tget: {}\n};\n\ncs.get = function (string) {\n\tvar prefix = string.substring(0, 3).toLowerCase();\n\tvar val;\n\tvar model;\n\tswitch (prefix) {\n\t\tcase 'hsl':\n\t\t\tval = cs.get.hsl(string);\n\t\t\tmodel = 'hsl';\n\t\t\tbreak;\n\t\tcase 'hwb':\n\t\t\tval = cs.get.hwb(string);\n\t\t\tmodel = 'hwb';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tval = cs.get.rgb(string);\n\t\t\tmodel = 'rgb';\n\t\t\tbreak;\n\t}\n\n\tif (!val) {\n\t\treturn null;\n\t}\n\n\treturn {model: model, value: val};\n};\n\ncs.get.rgb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar abbr = /^#([a-f0-9]{3,4})$/i;\n\tvar hex = /^#([a-f0-9]{6})([a-f0-9]{2})?$/i;\n\tvar rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar per = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar keyword = /(\\D+)/;\n\n\tvar rgb = [0, 0, 0, 1];\n\tvar match;\n\tvar i;\n\tvar hexAlpha;\n\n\tif (match = string.match(hex)) {\n\t\thexAlpha = match[2];\n\t\tmatch = match[1];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\t// https://jsperf.com/slice-vs-substr-vs-substring-methods-long-string/19\n\t\t\tvar i2 = i * 2;\n\t\t\trgb[i] = parseInt(match.slice(i2, i2 + 2), 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(abbr)) {\n\t\tmatch = match[1];\n\t\thexAlpha = match[3];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i] + match[i], 16);\n\t\t}\n\n\t\tif (hexAlpha) {\n\t\t\trgb[3] = parseInt(hexAlpha + hexAlpha, 16) / 255;\n\t\t}\n\t} else if (match = string.match(rgba)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = parseInt(match[i + 1], 0);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(per)) {\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\trgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);\n\t\t}\n\n\t\tif (match[4]) {\n\t\t\trgb[3] = parseFloat(match[4]);\n\t\t}\n\t} else if (match = string.match(keyword)) {\n\t\tif (match[1] === 'transparent') {\n\t\t\treturn [0, 0, 0, 0];\n\t\t}\n\n\t\trgb = colorNames[match[1]];\n\n\t\tif (!rgb) {\n\t\t\treturn null;\n\t\t}\n\n\t\trgb[3] = 1;\n\n\t\treturn rgb;\n\t} else {\n\t\treturn null;\n\t}\n\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] = clamp(rgb[i], 0, 255);\n\t}\n\trgb[3] = clamp(rgb[3], 0, 1);\n\n\treturn rgb;\n};\n\ncs.get.hsl = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hsl = /^hsla?\\(\\s*([+-]?(?:\\d{0,3}\\.)?\\d+)(?:deg)?\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*,?\\s*([+-]?[\\d\\.]+)%\\s*(?:[,|\\/]\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hsl);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = (parseFloat(match[1]) + 360) % 360;\n\t\tvar s = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar l = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\n\t\treturn [h, s, l, a];\n\t}\n\n\treturn null;\n};\n\ncs.get.hwb = function (string) {\n\tif (!string) {\n\t\treturn null;\n\t}\n\n\tvar hwb = /^hwb\\(\\s*([+-]?\\d{0,3}(?:\\.\\d+)?)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\n\tvar match = string.match(hwb);\n\n\tif (match) {\n\t\tvar alpha = parseFloat(match[4]);\n\t\tvar h = ((parseFloat(match[1]) % 360) + 360) % 360;\n\t\tvar w = clamp(parseFloat(match[2]), 0, 100);\n\t\tvar b = clamp(parseFloat(match[3]), 0, 100);\n\t\tvar a = clamp(isNaN(alpha) ? 1 : alpha, 0, 1);\n\t\treturn [h, w, b, a];\n\t}\n\n\treturn null;\n};\n\ncs.to.hex = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn (\n\t\t'#' +\n\t\thexDouble(rgba[0]) +\n\t\thexDouble(rgba[1]) +\n\t\thexDouble(rgba[2]) +\n\t\t(rgba[3] < 1\n\t\t\t? (hexDouble(Math.round(rgba[3] * 255)))\n\t\t\t: '')\n\t);\n};\n\ncs.to.rgb = function () {\n\tvar rgba = swizzle(arguments);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ')'\n\t\t: 'rgba(' + Math.round(rgba[0]) + ', ' + Math.round(rgba[1]) + ', ' + Math.round(rgba[2]) + ', ' + rgba[3] + ')';\n};\n\ncs.to.rgb.percent = function () {\n\tvar rgba = swizzle(arguments);\n\n\tvar r = Math.round(rgba[0] / 255 * 100);\n\tvar g = Math.round(rgba[1] / 255 * 100);\n\tvar b = Math.round(rgba[2] / 255 * 100);\n\n\treturn rgba.length < 4 || rgba[3] === 1\n\t\t? 'rgb(' + r + '%, ' + g + '%, ' + b + '%)'\n\t\t: 'rgba(' + r + '%, ' + g + '%, ' + b + '%, ' + rgba[3] + ')';\n};\n\ncs.to.hsl = function () {\n\tvar hsla = swizzle(arguments);\n\treturn hsla.length < 4 || hsla[3] === 1\n\t\t? 'hsl(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%)'\n\t\t: 'hsla(' + hsla[0] + ', ' + hsla[1] + '%, ' + hsla[2] + '%, ' + hsla[3] + ')';\n};\n\n// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax\n// (hwb have alpha optional & 1 is default value)\ncs.to.hwb = function () {\n\tvar hwba = swizzle(arguments);\n\n\tvar a = '';\n\tif (hwba.length >= 4 && hwba[3] !== 1) {\n\t\ta = ', ' + hwba[3];\n\t}\n\n\treturn 'hwb(' + hwba[0] + ', ' + hwba[1] + '%, ' + hwba[2] + '%' + a + ')';\n};\n\ncs.to.keyword = function (rgb) {\n\treturn reverseNames[rgb.slice(0, 3)];\n};\n\n// helpers\nfunction clamp(num, min, max) {\n\treturn Math.min(Math.max(min, num), max);\n}\n\nfunction hexDouble(num) {\n\tvar str = num.toString(16).toUpperCase();\n\treturn (str.length < 2) ? '0' + str : str;\n}\n", "/* MIT license */\n/* eslint-disable no-mixed-operators */\nconst cssKeywords = require('color-name');\n\n// NOTE: conversions should only return primitive values (i.e. arrays, or\n//       values that give correct `typeof` results).\n//       do not use box values types (i.e. Number(), String(), etc.)\n\nconst reverseKeywords = {};\nfor (const key of Object.keys(cssKeywords)) {\n\treverseKeywords[cssKeywords[key]] = key;\n}\n\nconst convert = {\n\trgb: {channels: 3, labels: 'rgb'},\n\thsl: {channels: 3, labels: 'hsl'},\n\thsv: {channels: 3, labels: 'hsv'},\n\thwb: {channels: 3, labels: 'hwb'},\n\tcmyk: {channels: 4, labels: 'cmyk'},\n\txyz: {channels: 3, labels: 'xyz'},\n\tlab: {channels: 3, labels: 'lab'},\n\tlch: {channels: 3, labels: 'lch'},\n\thex: {channels: 1, labels: ['hex']},\n\tkeyword: {channels: 1, labels: ['keyword']},\n\tansi16: {channels: 1, labels: ['ansi16']},\n\tansi256: {channels: 1, labels: ['ansi256']},\n\thcg: {channels: 3, labels: ['h', 'c', 'g']},\n\tapple: {channels: 3, labels: ['r16', 'g16', 'b16']},\n\tgray: {channels: 1, labels: ['gray']}\n};\n\nmodule.exports = convert;\n\n// Hide .channels and .labels properties\nfor (const model of Object.keys(convert)) {\n\tif (!('channels' in convert[model])) {\n\t\tthrow new Error('missing channels property: ' + model);\n\t}\n\n\tif (!('labels' in convert[model])) {\n\t\tthrow new Error('missing channel labels property: ' + model);\n\t}\n\n\tif (convert[model].labels.length !== convert[model].channels) {\n\t\tthrow new Error('channel and label counts mismatch: ' + model);\n\t}\n\n\tconst {channels, labels} = convert[model];\n\tdelete convert[model].channels;\n\tdelete convert[model].labels;\n\tObject.defineProperty(convert[model], 'channels', {value: channels});\n\tObject.defineProperty(convert[model], 'labels', {value: labels});\n}\n\nconvert.rgb.hsl = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst min = Math.min(r, g, b);\n\tconst max = Math.max(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\n\tif (max === min) {\n\t\th = 0;\n\t} else if (r === max) {\n\t\th = (g - b) / delta;\n\t} else if (g === max) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (b === max) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\n\th = Math.min(h * 60, 360);\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst l = (min + max) / 2;\n\n\tif (max === min) {\n\t\ts = 0;\n\t} else if (l <= 0.5) {\n\t\ts = delta / (max + min);\n\t} else {\n\t\ts = delta / (2 - max - min);\n\t}\n\n\treturn [h, s * 100, l * 100];\n};\n\nconvert.rgb.hsv = function (rgb) {\n\tlet rdif;\n\tlet gdif;\n\tlet bdif;\n\tlet h;\n\tlet s;\n\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst v = Math.max(r, g, b);\n\tconst diff = v - Math.min(r, g, b);\n\tconst diffc = function (c) {\n\t\treturn (v - c) / 6 / diff + 1 / 2;\n\t};\n\n\tif (diff === 0) {\n\t\th = 0;\n\t\ts = 0;\n\t} else {\n\t\ts = diff / v;\n\t\trdif = diffc(r);\n\t\tgdif = diffc(g);\n\t\tbdif = diffc(b);\n\n\t\tif (r === v) {\n\t\t\th = bdif - gdif;\n\t\t} else if (g === v) {\n\t\t\th = (1 / 3) + rdif - bdif;\n\t\t} else if (b === v) {\n\t\t\th = (2 / 3) + gdif - rdif;\n\t\t}\n\n\t\tif (h < 0) {\n\t\t\th += 1;\n\t\t} else if (h > 1) {\n\t\t\th -= 1;\n\t\t}\n\t}\n\n\treturn [\n\t\th * 360,\n\t\ts * 100,\n\t\tv * 100\n\t];\n};\n\nconvert.rgb.hwb = function (rgb) {\n\tconst r = rgb[0];\n\tconst g = rgb[1];\n\tlet b = rgb[2];\n\tconst h = convert.rgb.hsl(rgb)[0];\n\tconst w = 1 / 255 * Math.min(r, Math.min(g, b));\n\n\tb = 1 - 1 / 255 * Math.max(r, Math.max(g, b));\n\n\treturn [h, w * 100, b * 100];\n};\n\nconvert.rgb.cmyk = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\n\tconst k = Math.min(1 - r, 1 - g, 1 - b);\n\tconst c = (1 - r - k) / (1 - k) || 0;\n\tconst m = (1 - g - k) / (1 - k) || 0;\n\tconst y = (1 - b - k) / (1 - k) || 0;\n\n\treturn [c * 100, m * 100, y * 100, k * 100];\n};\n\nfunction comparativeDistance(x, y) {\n\t/*\n\t\tSee https://en.m.wikipedia.org/wiki/Euclidean_distance#Squared_Euclidean_distance\n\t*/\n\treturn (\n\t\t((x[0] - y[0]) ** 2) +\n\t\t((x[1] - y[1]) ** 2) +\n\t\t((x[2] - y[2]) ** 2)\n\t);\n}\n\nconvert.rgb.keyword = function (rgb) {\n\tconst reversed = reverseKeywords[rgb];\n\tif (reversed) {\n\t\treturn reversed;\n\t}\n\n\tlet currentClosestDistance = Infinity;\n\tlet currentClosestKeyword;\n\n\tfor (const keyword of Object.keys(cssKeywords)) {\n\t\tconst value = cssKeywords[keyword];\n\n\t\t// Compute comparative distance\n\t\tconst distance = comparativeDistance(rgb, value);\n\n\t\t// Check if its less, if so set as closest\n\t\tif (distance < currentClosestDistance) {\n\t\t\tcurrentClosestDistance = distance;\n\t\t\tcurrentClosestKeyword = keyword;\n\t\t}\n\t}\n\n\treturn currentClosestKeyword;\n};\n\nconvert.keyword.rgb = function (keyword) {\n\treturn cssKeywords[keyword];\n};\n\nconvert.rgb.xyz = function (rgb) {\n\tlet r = rgb[0] / 255;\n\tlet g = rgb[1] / 255;\n\tlet b = rgb[2] / 255;\n\n\t// Assume sRGB\n\tr = r > 0.04045 ? (((r + 0.055) / 1.055) ** 2.4) : (r / 12.92);\n\tg = g > 0.04045 ? (((g + 0.055) / 1.055) ** 2.4) : (g / 12.92);\n\tb = b > 0.04045 ? (((b + 0.055) / 1.055) ** 2.4) : (b / 12.92);\n\n\tconst x = (r * 0.4124) + (g * 0.3576) + (b * 0.1805);\n\tconst y = (r * 0.2126) + (g * 0.7152) + (b * 0.0722);\n\tconst z = (r * 0.0193) + (g * 0.1192) + (b * 0.9505);\n\n\treturn [x * 100, y * 100, z * 100];\n};\n\nconvert.rgb.lab = function (rgb) {\n\tconst xyz = convert.rgb.xyz(rgb);\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.hsl.rgb = function (hsl) {\n\tconst h = hsl[0] / 360;\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\tlet t2;\n\tlet t3;\n\tlet val;\n\n\tif (s === 0) {\n\t\tval = l * 255;\n\t\treturn [val, val, val];\n\t}\n\n\tif (l < 0.5) {\n\t\tt2 = l * (1 + s);\n\t} else {\n\t\tt2 = l + s - l * s;\n\t}\n\n\tconst t1 = 2 * l - t2;\n\n\tconst rgb = [0, 0, 0];\n\tfor (let i = 0; i < 3; i++) {\n\t\tt3 = h + 1 / 3 * -(i - 1);\n\t\tif (t3 < 0) {\n\t\t\tt3++;\n\t\t}\n\n\t\tif (t3 > 1) {\n\t\t\tt3--;\n\t\t}\n\n\t\tif (6 * t3 < 1) {\n\t\t\tval = t1 + (t2 - t1) * 6 * t3;\n\t\t} else if (2 * t3 < 1) {\n\t\t\tval = t2;\n\t\t} else if (3 * t3 < 2) {\n\t\t\tval = t1 + (t2 - t1) * (2 / 3 - t3) * 6;\n\t\t} else {\n\t\t\tval = t1;\n\t\t}\n\n\t\trgb[i] = val * 255;\n\t}\n\n\treturn rgb;\n};\n\nconvert.hsl.hsv = function (hsl) {\n\tconst h = hsl[0];\n\tlet s = hsl[1] / 100;\n\tlet l = hsl[2] / 100;\n\tlet smin = s;\n\tconst lmin = Math.max(l, 0.01);\n\n\tl *= 2;\n\ts *= (l <= 1) ? l : 2 - l;\n\tsmin *= lmin <= 1 ? lmin : 2 - lmin;\n\tconst v = (l + s) / 2;\n\tconst sv = l === 0 ? (2 * smin) / (lmin + smin) : (2 * s) / (l + s);\n\n\treturn [h, sv * 100, v * 100];\n};\n\nconvert.hsv.rgb = function (hsv) {\n\tconst h = hsv[0] / 60;\n\tconst s = hsv[1] / 100;\n\tlet v = hsv[2] / 100;\n\tconst hi = Math.floor(h) % 6;\n\n\tconst f = h - Math.floor(h);\n\tconst p = 255 * v * (1 - s);\n\tconst q = 255 * v * (1 - (s * f));\n\tconst t = 255 * v * (1 - (s * (1 - f)));\n\tv *= 255;\n\n\tswitch (hi) {\n\t\tcase 0:\n\t\t\treturn [v, t, p];\n\t\tcase 1:\n\t\t\treturn [q, v, p];\n\t\tcase 2:\n\t\t\treturn [p, v, t];\n\t\tcase 3:\n\t\t\treturn [p, q, v];\n\t\tcase 4:\n\t\t\treturn [t, p, v];\n\t\tcase 5:\n\t\t\treturn [v, p, q];\n\t}\n};\n\nconvert.hsv.hsl = function (hsv) {\n\tconst h = hsv[0];\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\tconst vmin = Math.max(v, 0.01);\n\tlet sl;\n\tlet l;\n\n\tl = (2 - s) * v;\n\tconst lmin = (2 - s) * vmin;\n\tsl = s * vmin;\n\tsl /= (lmin <= 1) ? lmin : 2 - lmin;\n\tsl = sl || 0;\n\tl /= 2;\n\n\treturn [h, sl * 100, l * 100];\n};\n\n// http://dev.w3.org/csswg/css-color/#hwb-to-rgb\nconvert.hwb.rgb = function (hwb) {\n\tconst h = hwb[0] / 360;\n\tlet wh = hwb[1] / 100;\n\tlet bl = hwb[2] / 100;\n\tconst ratio = wh + bl;\n\tlet f;\n\n\t// Wh + bl cant be > 1\n\tif (ratio > 1) {\n\t\twh /= ratio;\n\t\tbl /= ratio;\n\t}\n\n\tconst i = Math.floor(6 * h);\n\tconst v = 1 - bl;\n\tf = 6 * h - i;\n\n\tif ((i & 0x01) !== 0) {\n\t\tf = 1 - f;\n\t}\n\n\tconst n = wh + f * (v - wh); // Linear interpolation\n\n\tlet r;\n\tlet g;\n\tlet b;\n\t/* eslint-disable max-statements-per-line,no-multi-spaces */\n\tswitch (i) {\n\t\tdefault:\n\t\tcase 6:\n\t\tcase 0: r = v;  g = n;  b = wh; break;\n\t\tcase 1: r = n;  g = v;  b = wh; break;\n\t\tcase 2: r = wh; g = v;  b = n; break;\n\t\tcase 3: r = wh; g = n;  b = v; break;\n\t\tcase 4: r = n;  g = wh; b = v; break;\n\t\tcase 5: r = v;  g = wh; b = n; break;\n\t}\n\t/* eslint-enable max-statements-per-line,no-multi-spaces */\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.cmyk.rgb = function (cmyk) {\n\tconst c = cmyk[0] / 100;\n\tconst m = cmyk[1] / 100;\n\tconst y = cmyk[2] / 100;\n\tconst k = cmyk[3] / 100;\n\n\tconst r = 1 - Math.min(1, c * (1 - k) + k);\n\tconst g = 1 - Math.min(1, m * (1 - k) + k);\n\tconst b = 1 - Math.min(1, y * (1 - k) + k);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.rgb = function (xyz) {\n\tconst x = xyz[0] / 100;\n\tconst y = xyz[1] / 100;\n\tconst z = xyz[2] / 100;\n\tlet r;\n\tlet g;\n\tlet b;\n\n\tr = (x * 3.2406) + (y * -1.5372) + (z * -0.4986);\n\tg = (x * -0.9689) + (y * 1.8758) + (z * 0.0415);\n\tb = (x * 0.0557) + (y * -0.2040) + (z * 1.0570);\n\n\t// Assume sRGB\n\tr = r > 0.0031308\n\t\t? ((1.055 * (r ** (1.0 / 2.4))) - 0.055)\n\t\t: r * 12.92;\n\n\tg = g > 0.0031308\n\t\t? ((1.055 * (g ** (1.0 / 2.4))) - 0.055)\n\t\t: g * 12.92;\n\n\tb = b > 0.0031308\n\t\t? ((1.055 * (b ** (1.0 / 2.4))) - 0.055)\n\t\t: b * 12.92;\n\n\tr = Math.min(Math.max(0, r), 1);\n\tg = Math.min(Math.max(0, g), 1);\n\tb = Math.min(Math.max(0, b), 1);\n\n\treturn [r * 255, g * 255, b * 255];\n};\n\nconvert.xyz.lab = function (xyz) {\n\tlet x = xyz[0];\n\tlet y = xyz[1];\n\tlet z = xyz[2];\n\n\tx /= 95.047;\n\ty /= 100;\n\tz /= 108.883;\n\n\tx = x > 0.008856 ? (x ** (1 / 3)) : (7.787 * x) + (16 / 116);\n\ty = y > 0.008856 ? (y ** (1 / 3)) : (7.787 * y) + (16 / 116);\n\tz = z > 0.008856 ? (z ** (1 / 3)) : (7.787 * z) + (16 / 116);\n\n\tconst l = (116 * y) - 16;\n\tconst a = 500 * (x - y);\n\tconst b = 200 * (y - z);\n\n\treturn [l, a, b];\n};\n\nconvert.lab.xyz = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet x;\n\tlet y;\n\tlet z;\n\n\ty = (l + 16) / 116;\n\tx = a / 500 + y;\n\tz = y - b / 200;\n\n\tconst y2 = y ** 3;\n\tconst x2 = x ** 3;\n\tconst z2 = z ** 3;\n\ty = y2 > 0.008856 ? y2 : (y - 16 / 116) / 7.787;\n\tx = x2 > 0.008856 ? x2 : (x - 16 / 116) / 7.787;\n\tz = z2 > 0.008856 ? z2 : (z - 16 / 116) / 7.787;\n\n\tx *= 95.047;\n\ty *= 100;\n\tz *= 108.883;\n\n\treturn [x, y, z];\n};\n\nconvert.lab.lch = function (lab) {\n\tconst l = lab[0];\n\tconst a = lab[1];\n\tconst b = lab[2];\n\tlet h;\n\n\tconst hr = Math.atan2(b, a);\n\th = hr * 360 / 2 / Math.PI;\n\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\tconst c = Math.sqrt(a * a + b * b);\n\n\treturn [l, c, h];\n};\n\nconvert.lch.lab = function (lch) {\n\tconst l = lch[0];\n\tconst c = lch[1];\n\tconst h = lch[2];\n\n\tconst hr = h / 360 * 2 * Math.PI;\n\tconst a = c * Math.cos(hr);\n\tconst b = c * Math.sin(hr);\n\n\treturn [l, a, b];\n};\n\nconvert.rgb.ansi16 = function (args, saturation = null) {\n\tconst [r, g, b] = args;\n\tlet value = saturation === null ? convert.rgb.hsv(args)[2] : saturation; // Hsv -> ansi16 optimization\n\n\tvalue = Math.round(value / 50);\n\n\tif (value === 0) {\n\t\treturn 30;\n\t}\n\n\tlet ansi = 30\n\t\t+ ((Math.round(b / 255) << 2)\n\t\t| (Math.round(g / 255) << 1)\n\t\t| Math.round(r / 255));\n\n\tif (value === 2) {\n\t\tansi += 60;\n\t}\n\n\treturn ansi;\n};\n\nconvert.hsv.ansi16 = function (args) {\n\t// Optimization here; we already know the value and don't need to get\n\t// it converted for us.\n\treturn convert.rgb.ansi16(convert.hsv.rgb(args), args[2]);\n};\n\nconvert.rgb.ansi256 = function (args) {\n\tconst r = args[0];\n\tconst g = args[1];\n\tconst b = args[2];\n\n\t// We use the extended greyscale palette here, with the exception of\n\t// black and white. normal palette only has 4 greyscale shades.\n\tif (r === g && g === b) {\n\t\tif (r < 8) {\n\t\t\treturn 16;\n\t\t}\n\n\t\tif (r > 248) {\n\t\t\treturn 231;\n\t\t}\n\n\t\treturn Math.round(((r - 8) / 247) * 24) + 232;\n\t}\n\n\tconst ansi = 16\n\t\t+ (36 * Math.round(r / 255 * 5))\n\t\t+ (6 * Math.round(g / 255 * 5))\n\t\t+ Math.round(b / 255 * 5);\n\n\treturn ansi;\n};\n\nconvert.ansi16.rgb = function (args) {\n\tlet color = args % 10;\n\n\t// Handle greyscale\n\tif (color === 0 || color === 7) {\n\t\tif (args > 50) {\n\t\t\tcolor += 3.5;\n\t\t}\n\n\t\tcolor = color / 10.5 * 255;\n\n\t\treturn [color, color, color];\n\t}\n\n\tconst mult = (~~(args > 50) + 1) * 0.5;\n\tconst r = ((color & 1) * mult) * 255;\n\tconst g = (((color >> 1) & 1) * mult) * 255;\n\tconst b = (((color >> 2) & 1) * mult) * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.ansi256.rgb = function (args) {\n\t// Handle greyscale\n\tif (args >= 232) {\n\t\tconst c = (args - 232) * 10 + 8;\n\t\treturn [c, c, c];\n\t}\n\n\targs -= 16;\n\n\tlet rem;\n\tconst r = Math.floor(args / 36) / 5 * 255;\n\tconst g = Math.floor((rem = args % 36) / 6) / 5 * 255;\n\tconst b = (rem % 6) / 5 * 255;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hex = function (args) {\n\tconst integer = ((Math.round(args[0]) & 0xFF) << 16)\n\t\t+ ((Math.round(args[1]) & 0xFF) << 8)\n\t\t+ (Math.round(args[2]) & 0xFF);\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.hex.rgb = function (args) {\n\tconst match = args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);\n\tif (!match) {\n\t\treturn [0, 0, 0];\n\t}\n\n\tlet colorString = match[0];\n\n\tif (match[0].length === 3) {\n\t\tcolorString = colorString.split('').map(char => {\n\t\t\treturn char + char;\n\t\t}).join('');\n\t}\n\n\tconst integer = parseInt(colorString, 16);\n\tconst r = (integer >> 16) & 0xFF;\n\tconst g = (integer >> 8) & 0xFF;\n\tconst b = integer & 0xFF;\n\n\treturn [r, g, b];\n};\n\nconvert.rgb.hcg = function (rgb) {\n\tconst r = rgb[0] / 255;\n\tconst g = rgb[1] / 255;\n\tconst b = rgb[2] / 255;\n\tconst max = Math.max(Math.max(r, g), b);\n\tconst min = Math.min(Math.min(r, g), b);\n\tconst chroma = (max - min);\n\tlet grayscale;\n\tlet hue;\n\n\tif (chroma < 1) {\n\t\tgrayscale = min / (1 - chroma);\n\t} else {\n\t\tgrayscale = 0;\n\t}\n\n\tif (chroma <= 0) {\n\t\thue = 0;\n\t} else\n\tif (max === r) {\n\t\thue = ((g - b) / chroma) % 6;\n\t} else\n\tif (max === g) {\n\t\thue = 2 + (b - r) / chroma;\n\t} else {\n\t\thue = 4 + (r - g) / chroma;\n\t}\n\n\thue /= 6;\n\thue %= 1;\n\n\treturn [hue * 360, chroma * 100, grayscale * 100];\n};\n\nconvert.hsl.hcg = function (hsl) {\n\tconst s = hsl[1] / 100;\n\tconst l = hsl[2] / 100;\n\n\tconst c = l < 0.5 ? (2.0 * s * l) : (2.0 * s * (1.0 - l));\n\n\tlet f = 0;\n\tif (c < 1.0) {\n\t\tf = (l - 0.5 * c) / (1.0 - c);\n\t}\n\n\treturn [hsl[0], c * 100, f * 100];\n};\n\nconvert.hsv.hcg = function (hsv) {\n\tconst s = hsv[1] / 100;\n\tconst v = hsv[2] / 100;\n\n\tconst c = s * v;\n\tlet f = 0;\n\n\tif (c < 1.0) {\n\t\tf = (v - c) / (1 - c);\n\t}\n\n\treturn [hsv[0], c * 100, f * 100];\n};\n\nconvert.hcg.rgb = function (hcg) {\n\tconst h = hcg[0] / 360;\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tif (c === 0.0) {\n\t\treturn [g * 255, g * 255, g * 255];\n\t}\n\n\tconst pure = [0, 0, 0];\n\tconst hi = (h % 1) * 6;\n\tconst v = hi % 1;\n\tconst w = 1 - v;\n\tlet mg = 0;\n\n\t/* eslint-disable max-statements-per-line */\n\tswitch (Math.floor(hi)) {\n\t\tcase 0:\n\t\t\tpure[0] = 1; pure[1] = v; pure[2] = 0; break;\n\t\tcase 1:\n\t\t\tpure[0] = w; pure[1] = 1; pure[2] = 0; break;\n\t\tcase 2:\n\t\t\tpure[0] = 0; pure[1] = 1; pure[2] = v; break;\n\t\tcase 3:\n\t\t\tpure[0] = 0; pure[1] = w; pure[2] = 1; break;\n\t\tcase 4:\n\t\t\tpure[0] = v; pure[1] = 0; pure[2] = 1; break;\n\t\tdefault:\n\t\t\tpure[0] = 1; pure[1] = 0; pure[2] = w;\n\t}\n\t/* eslint-enable max-statements-per-line */\n\n\tmg = (1.0 - c) * g;\n\n\treturn [\n\t\t(c * pure[0] + mg) * 255,\n\t\t(c * pure[1] + mg) * 255,\n\t\t(c * pure[2] + mg) * 255\n\t];\n};\n\nconvert.hcg.hsv = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst v = c + g * (1.0 - c);\n\tlet f = 0;\n\n\tif (v > 0.0) {\n\t\tf = c / v;\n\t}\n\n\treturn [hcg[0], f * 100, v * 100];\n};\n\nconvert.hcg.hsl = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\n\tconst l = g * (1.0 - c) + 0.5 * c;\n\tlet s = 0;\n\n\tif (l > 0.0 && l < 0.5) {\n\t\ts = c / (2 * l);\n\t} else\n\tif (l >= 0.5 && l < 1.0) {\n\t\ts = c / (2 * (1 - l));\n\t}\n\n\treturn [hcg[0], s * 100, l * 100];\n};\n\nconvert.hcg.hwb = function (hcg) {\n\tconst c = hcg[1] / 100;\n\tconst g = hcg[2] / 100;\n\tconst v = c + g * (1.0 - c);\n\treturn [hcg[0], (v - c) * 100, (1 - v) * 100];\n};\n\nconvert.hwb.hcg = function (hwb) {\n\tconst w = hwb[1] / 100;\n\tconst b = hwb[2] / 100;\n\tconst v = 1 - b;\n\tconst c = v - w;\n\tlet g = 0;\n\n\tif (c < 1) {\n\t\tg = (v - c) / (1 - c);\n\t}\n\n\treturn [hwb[0], c * 100, g * 100];\n};\n\nconvert.apple.rgb = function (apple) {\n\treturn [(apple[0] / 65535) * 255, (apple[1] / 65535) * 255, (apple[2] / 65535) * 255];\n};\n\nconvert.rgb.apple = function (rgb) {\n\treturn [(rgb[0] / 255) * 65535, (rgb[1] / 255) * 65535, (rgb[2] / 255) * 65535];\n};\n\nconvert.gray.rgb = function (args) {\n\treturn [args[0] / 100 * 255, args[0] / 100 * 255, args[0] / 100 * 255];\n};\n\nconvert.gray.hsl = function (args) {\n\treturn [0, 0, args[0]];\n};\n\nconvert.gray.hsv = convert.gray.hsl;\n\nconvert.gray.hwb = function (gray) {\n\treturn [0, 100, gray[0]];\n};\n\nconvert.gray.cmyk = function (gray) {\n\treturn [0, 0, 0, gray[0]];\n};\n\nconvert.gray.lab = function (gray) {\n\treturn [gray[0], 0, 0];\n};\n\nconvert.gray.hex = function (gray) {\n\tconst val = Math.round(gray[0] / 100 * 255) & 0xFF;\n\tconst integer = (val << 16) + (val << 8) + val;\n\n\tconst string = integer.toString(16).toUpperCase();\n\treturn '000000'.substring(string.length) + string;\n};\n\nconvert.rgb.gray = function (rgb) {\n\tconst val = (rgb[0] + rgb[1] + rgb[2]) / 3;\n\treturn [val / 255 * 100];\n};\n", "const conversions = require('./conversions');\n\n/*\n\tThis function routes a model to all other models.\n\n\tall functions that are routed have a property `.conversion` attached\n\tto the returned synthetic function. This property is an array\n\tof strings, each with the steps in between the 'from' and 'to'\n\tcolor models (inclusive).\n\n\tconversions that are not possible simply are not included.\n*/\n\nfunction buildGraph() {\n\tconst graph = {};\n\t// https://jsperf.com/object-keys-vs-for-in-with-closure/3\n\tconst models = Object.keys(conversions);\n\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tgraph[models[i]] = {\n\t\t\t// http://jsperf.com/1-vs-infinity\n\t\t\t// micro-opt, but this is simple.\n\t\t\tdistance: -1,\n\t\t\tparent: null\n\t\t};\n\t}\n\n\treturn graph;\n}\n\n// https://en.wikipedia.org/wiki/Breadth-first_search\nfunction deriveBFS(fromModel) {\n\tconst graph = buildGraph();\n\tconst queue = [fromModel]; // Unshift -> queue -> pop\n\n\tgraph[fromModel].distance = 0;\n\n\twhile (queue.length) {\n\t\tconst current = queue.pop();\n\t\tconst adjacents = Object.keys(conversions[current]);\n\n\t\tfor (let len = adjacents.length, i = 0; i < len; i++) {\n\t\t\tconst adjacent = adjacents[i];\n\t\t\tconst node = graph[adjacent];\n\n\t\t\tif (node.distance === -1) {\n\t\t\t\tnode.distance = graph[current].distance + 1;\n\t\t\t\tnode.parent = current;\n\t\t\t\tqueue.unshift(adjacent);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn graph;\n}\n\nfunction link(from, to) {\n\treturn function (args) {\n\t\treturn to(from(args));\n\t};\n}\n\nfunction wrapConversion(toModel, graph) {\n\tconst path = [graph[toModel].parent, toModel];\n\tlet fn = conversions[graph[toModel].parent][toModel];\n\n\tlet cur = graph[toModel].parent;\n\twhile (graph[cur].parent) {\n\t\tpath.unshift(graph[cur].parent);\n\t\tfn = link(conversions[graph[cur].parent][cur], fn);\n\t\tcur = graph[cur].parent;\n\t}\n\n\tfn.conversion = path;\n\treturn fn;\n}\n\nmodule.exports = function (fromModel) {\n\tconst graph = deriveBFS(fromModel);\n\tconst conversion = {};\n\n\tconst models = Object.keys(graph);\n\tfor (let len = models.length, i = 0; i < len; i++) {\n\t\tconst toModel = models[i];\n\t\tconst node = graph[toModel];\n\n\t\tif (node.parent === null) {\n\t\t\t// No possible conversion, or this node is the source model.\n\t\t\tcontinue;\n\t\t}\n\n\t\tconversion[toModel] = wrapConversion(toModel, graph);\n\t}\n\n\treturn conversion;\n};\n\n", "const conversions = require('./conversions');\nconst route = require('./route');\n\nconst convert = {};\n\nconst models = Object.keys(conversions);\n\nfunction wrapRaw(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\treturn fn(args);\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nfunction wrapRounded(fn) {\n\tconst wrappedFn = function (...args) {\n\t\tconst arg0 = args[0];\n\n\t\tif (arg0 === undefined || arg0 === null) {\n\t\t\treturn arg0;\n\t\t}\n\n\t\tif (arg0.length > 1) {\n\t\t\targs = arg0;\n\t\t}\n\n\t\tconst result = fn(args);\n\n\t\t// We're assuming the result is an array here.\n\t\t// see notice in conversions.js; don't use box types\n\t\t// in conversion functions.\n\t\tif (typeof result === 'object') {\n\t\t\tfor (let len = result.length, i = 0; i < len; i++) {\n\t\t\t\tresult[i] = Math.round(result[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\t// Preserve .conversion property if there is one\n\tif ('conversion' in fn) {\n\t\twrappedFn.conversion = fn.conversion;\n\t}\n\n\treturn wrappedFn;\n}\n\nmodels.forEach(fromModel => {\n\tconvert[fromModel] = {};\n\n\tObject.defineProperty(convert[fromModel], 'channels', {value: conversions[fromModel].channels});\n\tObject.defineProperty(convert[fromModel], 'labels', {value: conversions[fromModel].labels});\n\n\tconst routes = route(fromModel);\n\tconst routeModels = Object.keys(routes);\n\n\trouteModels.forEach(toModel => {\n\t\tconst fn = routes[toModel];\n\n\t\tconvert[fromModel][toModel] = wrapRounded(fn);\n\t\tconvert[fromModel][toModel].raw = wrapRaw(fn);\n\t});\n});\n\nmodule.exports = convert;\n", "const colorString = require('color-string');\nconst convert = require('color-convert');\n\nconst _slice = [].slice;\n\nconst skippedModels = [\n\t// To be honest, I don't really feel like keyword belongs in color convert, but eh.\n\t'keyword',\n\n\t// Gray conflicts with some method names, and has its own method defined.\n\t'gray',\n\n\t// Shouldn't really be in color-convert either...\n\t'hex',\n];\n\nconst hashedModelKeys = {};\nfor (const model of Object.keys(convert)) {\n\thashedModelKeys[_slice.call(convert[model].labels).sort().join('')] = model;\n}\n\nconst limiters = {};\n\nfunction Color(object, model) {\n\tif (!(this instanceof Color)) {\n\t\treturn new Color(object, model);\n\t}\n\n\tif (model && model in skippedModels) {\n\t\tmodel = null;\n\t}\n\n\tif (model && !(model in convert)) {\n\t\tthrow new Error('Unknown model: ' + model);\n\t}\n\n\tlet i;\n\tlet channels;\n\n\tif (object == null) { // eslint-disable-line no-eq-null,eqeqeq\n\t\tthis.model = 'rgb';\n\t\tthis.color = [0, 0, 0];\n\t\tthis.valpha = 1;\n\t} else if (object instanceof Color) {\n\t\tthis.model = object.model;\n\t\tthis.color = object.color.slice();\n\t\tthis.valpha = object.valpha;\n\t} else if (typeof object === 'string') {\n\t\tconst result = colorString.get(object);\n\t\tif (result === null) {\n\t\t\tthrow new Error('Unable to parse color from string: ' + object);\n\t\t}\n\n\t\tthis.model = result.model;\n\t\tchannels = convert[this.model].channels;\n\t\tthis.color = result.value.slice(0, channels);\n\t\tthis.valpha = typeof result.value[channels] === 'number' ? result.value[channels] : 1;\n\t} else if (object.length > 0) {\n\t\tthis.model = model || 'rgb';\n\t\tchannels = convert[this.model].channels;\n\t\tconst newArray = _slice.call(object, 0, channels);\n\t\tthis.color = zeroArray(newArray, channels);\n\t\tthis.valpha = typeof object[channels] === 'number' ? object[channels] : 1;\n\t} else if (typeof object === 'number') {\n\t\t// This is always RGB - can be converted later on.\n\t\tthis.model = 'rgb';\n\t\tthis.color = [\n\t\t\t(object >> 16) & 0xFF,\n\t\t\t(object >> 8) & 0xFF,\n\t\t\tobject & 0xFF,\n\t\t];\n\t\tthis.valpha = 1;\n\t} else {\n\t\tthis.valpha = 1;\n\n\t\tconst keys = Object.keys(object);\n\t\tif ('alpha' in object) {\n\t\t\tkeys.splice(keys.indexOf('alpha'), 1);\n\t\t\tthis.valpha = typeof object.alpha === 'number' ? object.alpha : 0;\n\t\t}\n\n\t\tconst hashedKeys = keys.sort().join('');\n\t\tif (!(hashedKeys in hashedModelKeys)) {\n\t\t\tthrow new Error('Unable to parse color from object: ' + JSON.stringify(object));\n\t\t}\n\n\t\tthis.model = hashedModelKeys[hashedKeys];\n\n\t\tconst labels = convert[this.model].labels;\n\t\tconst color = [];\n\t\tfor (i = 0; i < labels.length; i++) {\n\t\t\tcolor.push(object[labels[i]]);\n\t\t}\n\n\t\tthis.color = zeroArray(color);\n\t}\n\n\t// Perform limitations (clamping, etc.)\n\tif (limiters[this.model]) {\n\t\tchannels = convert[this.model].channels;\n\t\tfor (i = 0; i < channels; i++) {\n\t\t\tconst limit = limiters[this.model][i];\n\t\t\tif (limit) {\n\t\t\t\tthis.color[i] = limit(this.color[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.valpha = Math.max(0, Math.min(1, this.valpha));\n\n\tif (Object.freeze) {\n\t\tObject.freeze(this);\n\t}\n}\n\nColor.prototype = {\n\ttoString() {\n\t\treturn this.string();\n\t},\n\n\ttoJSON() {\n\t\treturn this[this.model]();\n\t},\n\n\tstring(places) {\n\t\tlet self = this.model in colorString.to ? this : this.rgb();\n\t\tself = self.round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to[self.model](args);\n\t},\n\n\tpercentString(places) {\n\t\tconst self = this.rgb().round(typeof places === 'number' ? places : 1);\n\t\tconst args = self.valpha === 1 ? self.color : self.color.concat(this.valpha);\n\t\treturn colorString.to.rgb.percent(args);\n\t},\n\n\tarray() {\n\t\treturn this.valpha === 1 ? this.color.slice() : this.color.concat(this.valpha);\n\t},\n\n\tobject() {\n\t\tconst result = {};\n\t\tconst channels = convert[this.model].channels;\n\t\tconst labels = convert[this.model].labels;\n\n\t\tfor (let i = 0; i < channels; i++) {\n\t\t\tresult[labels[i]] = this.color[i];\n\t\t}\n\n\t\tif (this.valpha !== 1) {\n\t\t\tresult.alpha = this.valpha;\n\t\t}\n\n\t\treturn result;\n\t},\n\n\tunitArray() {\n\t\tconst rgb = this.rgb().color;\n\t\trgb[0] /= 255;\n\t\trgb[1] /= 255;\n\t\trgb[2] /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.push(this.valpha);\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tunitObject() {\n\t\tconst rgb = this.rgb().object();\n\t\trgb.r /= 255;\n\t\trgb.g /= 255;\n\t\trgb.b /= 255;\n\n\t\tif (this.valpha !== 1) {\n\t\t\trgb.alpha = this.valpha;\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tround(places) {\n\t\tplaces = Math.max(places || 0, 0);\n\t\treturn new Color(this.color.map(roundToPlace(places)).concat(this.valpha), this.model);\n\t},\n\n\talpha(value) {\n\t\tif (arguments.length > 0) {\n\t\t\treturn new Color(this.color.concat(Math.max(0, Math.min(1, value))), this.model);\n\t\t}\n\n\t\treturn this.valpha;\n\t},\n\n\t// Rgb\n\tred: getset('rgb', 0, maxfn(255)),\n\tgreen: getset('rgb', 1, maxfn(255)),\n\tblue: getset('rgb', 2, maxfn(255)),\n\n\thue: getset(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, value => ((value % 360) + 360) % 360),\n\n\tsaturationl: getset('hsl', 1, maxfn(100)),\n\tlightness: getset('hsl', 2, maxfn(100)),\n\n\tsaturationv: getset('hsv', 1, maxfn(100)),\n\tvalue: getset('hsv', 2, maxfn(100)),\n\n\tchroma: getset('hcg', 1, maxfn(100)),\n\tgray: getset('hcg', 2, maxfn(100)),\n\n\twhite: getset('hwb', 1, maxfn(100)),\n\twblack: getset('hwb', 2, maxfn(100)),\n\n\tcyan: getset('cmyk', 0, maxfn(100)),\n\tmagenta: getset('cmyk', 1, maxfn(100)),\n\tyellow: getset('cmyk', 2, maxfn(100)),\n\tblack: getset('cmyk', 3, maxfn(100)),\n\n\tx: getset('xyz', 0, maxfn(100)),\n\ty: getset('xyz', 1, maxfn(100)),\n\tz: getset('xyz', 2, maxfn(100)),\n\n\tl: getset('lab', 0, maxfn(100)),\n\ta: getset('lab', 1),\n\tb: getset('lab', 2),\n\n\tkeyword(value) {\n\t\tif (arguments.length > 0) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn convert[this.model].keyword(this.color);\n\t},\n\n\thex(value) {\n\t\tif (arguments.length > 0) {\n\t\t\treturn new Color(value);\n\t\t}\n\n\t\treturn colorString.to.hex(this.rgb().round().color);\n\t},\n\n\trgbNumber() {\n\t\tconst rgb = this.rgb().color;\n\t\treturn ((rgb[0] & 0xFF) << 16) | ((rgb[1] & 0xFF) << 8) | (rgb[2] & 0xFF);\n\t},\n\n\tluminosity() {\n\t\t// http://www.w3.org/TR/WCAG20/#relativeluminancedef\n\t\tconst rgb = this.rgb().color;\n\n\t\tconst lum = [];\n\t\tfor (const [i, element] of rgb.entries()) {\n\t\t\tconst chan = element / 255;\n\t\t\tlum[i] = (chan <= 0.039_28) ? chan / 12.92 : ((chan + 0.055) / 1.055) ** 2.4;\n\t\t}\n\n\t\treturn 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];\n\t},\n\n\tcontrast(color2) {\n\t\t// http://www.w3.org/TR/WCAG20/#contrast-ratiodef\n\t\tconst lum1 = this.luminosity();\n\t\tconst lum2 = color2.luminosity();\n\n\t\tif (lum1 > lum2) {\n\t\t\treturn (lum1 + 0.05) / (lum2 + 0.05);\n\t\t}\n\n\t\treturn (lum2 + 0.05) / (lum1 + 0.05);\n\t},\n\n\tlevel(color2) {\n\t\tconst contrastRatio = this.contrast(color2);\n\t\tif (contrastRatio >= 7.1) {\n\t\t\treturn 'AAA';\n\t\t}\n\n\t\treturn (contrastRatio >= 4.5) ? 'AA' : '';\n\t},\n\n\tisDark() {\n\t\t// YIQ equation from http://24ways.org/2010/calculating-color-contrast\n\t\tconst rgb = this.rgb().color;\n\t\tconst yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;\n\t\treturn yiq < 128;\n\t},\n\n\tisLight() {\n\t\treturn !this.isDark();\n\t},\n\n\tnegate() {\n\t\tconst rgb = this.rgb();\n\t\tfor (let i = 0; i < 3; i++) {\n\t\t\trgb.color[i] = 255 - rgb.color[i];\n\t\t}\n\n\t\treturn rgb;\n\t},\n\n\tlighten(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] += hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdarken(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[2] -= hsl.color[2] * ratio;\n\t\treturn hsl;\n\t},\n\n\tsaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] += hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\tdesaturate(ratio) {\n\t\tconst hsl = this.hsl();\n\t\thsl.color[1] -= hsl.color[1] * ratio;\n\t\treturn hsl;\n\t},\n\n\twhiten(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[1] += hwb.color[1] * ratio;\n\t\treturn hwb;\n\t},\n\n\tblacken(ratio) {\n\t\tconst hwb = this.hwb();\n\t\thwb.color[2] += hwb.color[2] * ratio;\n\t\treturn hwb;\n\t},\n\n\tgrayscale() {\n\t\t// http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale\n\t\tconst rgb = this.rgb().color;\n\t\tconst value = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;\n\t\treturn Color.rgb(value, value, value);\n\t},\n\n\tfade(ratio) {\n\t\treturn this.alpha(this.valpha - (this.valpha * ratio));\n\t},\n\n\topaquer(ratio) {\n\t\treturn this.alpha(this.valpha + (this.valpha * ratio));\n\t},\n\n\trotate(degrees) {\n\t\tconst hsl = this.hsl();\n\t\tlet hue = hsl.color[0];\n\t\thue = (hue + degrees) % 360;\n\t\thue = hue < 0 ? 360 + hue : hue;\n\t\thsl.color[0] = hue;\n\t\treturn hsl;\n\t},\n\n\tmix(mixinColor, weight) {\n\t\t// Ported from sass implementation in C\n\t\t// https://github.com/sass/libsass/blob/0e6b4a2850092356aa3ece07c6b249f0221caced/functions.cpp#L209\n\t\tif (!mixinColor || !mixinColor.rgb) {\n\t\t\tthrow new Error('Argument to \"mix\" was not a Color instance, but rather an instance of ' + typeof mixinColor);\n\t\t}\n\n\t\tconst color1 = mixinColor.rgb();\n\t\tconst color2 = this.rgb();\n\t\tconst p = weight === undefined ? 0.5 : weight;\n\n\t\tconst w = 2 * p - 1;\n\t\tconst a = color1.alpha() - color2.alpha();\n\n\t\tconst w1 = (((w * a === -1) ? w : (w + a) / (1 + w * a)) + 1) / 2;\n\t\tconst w2 = 1 - w1;\n\n\t\treturn Color.rgb(\n\t\t\tw1 * color1.red() + w2 * color2.red(),\n\t\t\tw1 * color1.green() + w2 * color2.green(),\n\t\t\tw1 * color1.blue() + w2 * color2.blue(),\n\t\t\tcolor1.alpha() * p + color2.alpha() * (1 - p));\n\t},\n};\n\n// Model conversion methods and static constructors\nfor (const model of Object.keys(convert)) {\n\tif (skippedModels.includes(model)) {\n\t\tcontinue;\n\t}\n\n\tconst channels = convert[model].channels;\n\n\t// Conversion methods\n\tColor.prototype[model] = function () {\n\t\tif (this.model === model) {\n\t\t\treturn new Color(this);\n\t\t}\n\n\t\tif (arguments.length > 0) {\n\t\t\treturn new Color(arguments, model);\n\t\t}\n\n\t\tconst newAlpha = typeof arguments[channels] === 'number' ? channels : this.valpha;\n\t\treturn new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha), model);\n\t};\n\n\t// 'static' construction methods\n\tColor[model] = function (color) {\n\t\tif (typeof color === 'number') {\n\t\t\tcolor = zeroArray(_slice.call(arguments), channels);\n\t\t}\n\n\t\treturn new Color(color, model);\n\t};\n}\n\nfunction roundTo(number, places) {\n\treturn Number(number.toFixed(places));\n}\n\nfunction roundToPlace(places) {\n\treturn function (number) {\n\t\treturn roundTo(number, places);\n\t};\n}\n\nfunction getset(model, channel, modifier) {\n\tmodel = Array.isArray(model) ? model : [model];\n\n\tfor (const m of model) {\n\t\t(limiters[m] || (limiters[m] = []))[channel] = modifier;\n\t}\n\n\tmodel = model[0];\n\n\treturn function (value) {\n\t\tlet result;\n\n\t\tif (arguments.length > 0) {\n\t\t\tif (modifier) {\n\t\t\t\tvalue = modifier(value);\n\t\t\t}\n\n\t\t\tresult = this[model]();\n\t\t\tresult.color[channel] = value;\n\t\t\treturn result;\n\t\t}\n\n\t\tresult = this[model]().color[channel];\n\t\tif (modifier) {\n\t\t\tresult = modifier(result);\n\t\t}\n\n\t\treturn result;\n\t};\n}\n\nfunction maxfn(max) {\n\treturn function (v) {\n\t\treturn Math.max(0, Math.min(max, v));\n\t};\n}\n\nfunction assertArray(value) {\n\treturn Array.isArray(value) ? value : [value];\n}\n\nfunction zeroArray(array, length) {\n\tfor (let i = 0; i < length; i++) {\n\t\tif (typeof array[i] !== 'number') {\n\t\t\tarray[i] = 0;\n\t\t}\n\t}\n\n\treturn array;\n}\n\nmodule.exports = Color;\n", "'use strict';\n\nconst color = require('color');\nconst is = require('./is');\nconst sharp = require('./sharp');\n\n/**\n * Extract input options, if any, from an object.\n * @private\n */\nfunction _inputOptionsFromObject (obj) {\n  const { raw, density, limitInputPixels, sequentialRead, failOnError, animated, page, pages, subifd } = obj;\n  return [raw, density, limitInputPixels, sequentialRead, failOnError, animated, page, pages, subifd].some(is.defined)\n    ? { raw, density, limitInputPixels, sequentialRead, failOnError, animated, page, pages, subifd }\n    : undefined;\n}\n\n/**\n * Create Object containing input and input-related options.\n * @private\n */\nfunction _createInputDescriptor (input, inputOptions, containerOptions) {\n  const inputDescriptor = {\n    failOnError: true,\n    limitInputPixels: Math.pow(0x3FFF, 2),\n    sequentialRead: false\n  };\n  if (is.string(input)) {\n    // filesystem\n    inputDescriptor.file = input;\n  } else if (is.buffer(input)) {\n    // Buffer\n    if (input.length === 0) {\n      throw Error('Input Buffer is empty');\n    }\n    inputDescriptor.buffer = input;\n  } else if (is.typedArray(input)) {\n    if (input.length === 0) {\n      throw Error('Input Bit Array is empty');\n    }\n    inputDescriptor.buffer = Buffer.from(input.buffer);\n  } else if (is.plainObject(input) && !is.defined(inputOptions)) {\n    // Plain Object descriptor, e.g. create\n    inputOptions = input;\n    if (_inputOptionsFromObject(inputOptions)) {\n      // Stream with options\n      inputDescriptor.buffer = [];\n    }\n  } else if (!is.defined(input) && !is.defined(inputOptions) && is.object(containerOptions) && containerOptions.allowStream) {\n    // Stream without options\n    inputDescriptor.buffer = [];\n  } else {\n    throw new Error(`Unsupported input '${input}' of type ${typeof input}${\n      is.defined(inputOptions) ? ` when also providing options of type ${typeof inputOptions}` : ''\n    }`);\n  }\n  if (is.object(inputOptions)) {\n    // Fail on error\n    if (is.defined(inputOptions.failOnError)) {\n      if (is.bool(inputOptions.failOnError)) {\n        inputDescriptor.failOnError = inputOptions.failOnError;\n      } else {\n        throw is.invalidParameterError('failOnError', 'boolean', inputOptions.failOnError);\n      }\n    }\n    // Density\n    if (is.defined(inputOptions.density)) {\n      if (is.inRange(inputOptions.density, 1, 100000)) {\n        inputDescriptor.density = inputOptions.density;\n      } else {\n        throw is.invalidParameterError('density', 'number between 1 and 100000', inputOptions.density);\n      }\n    }\n    // limitInputPixels\n    if (is.defined(inputOptions.limitInputPixels)) {\n      if (is.bool(inputOptions.limitInputPixels)) {\n        inputDescriptor.limitInputPixels = inputOptions.limitInputPixels\n          ? Math.pow(0x3FFF, 2)\n          : 0;\n      } else if (is.integer(inputOptions.limitInputPixels) && inputOptions.limitInputPixels >= 0) {\n        inputDescriptor.limitInputPixels = inputOptions.limitInputPixels;\n      } else {\n        throw is.invalidParameterError('limitInputPixels', 'integer >= 0', inputOptions.limitInputPixels);\n      }\n    }\n    // sequentialRead\n    if (is.defined(inputOptions.sequentialRead)) {\n      if (is.bool(inputOptions.sequentialRead)) {\n        inputDescriptor.sequentialRead = inputOptions.sequentialRead;\n      } else {\n        throw is.invalidParameterError('sequentialRead', 'boolean', inputOptions.sequentialRead);\n      }\n    }\n    // Raw pixel input\n    if (is.defined(inputOptions.raw)) {\n      if (\n        is.object(inputOptions.raw) &&\n        is.integer(inputOptions.raw.width) && inputOptions.raw.width > 0 &&\n        is.integer(inputOptions.raw.height) && inputOptions.raw.height > 0 &&\n        is.integer(inputOptions.raw.channels) && is.inRange(inputOptions.raw.channels, 1, 4)\n      ) {\n        inputDescriptor.rawWidth = inputOptions.raw.width;\n        inputDescriptor.rawHeight = inputOptions.raw.height;\n        inputDescriptor.rawChannels = inputOptions.raw.channels;\n        inputDescriptor.rawPremultiplied = !!inputOptions.raw.premultiplied;\n\n        switch (input.constructor) {\n          case Uint8Array:\n          case Uint8ClampedArray:\n            inputDescriptor.rawDepth = 'uchar';\n            break;\n          case Int8Array:\n            inputDescriptor.rawDepth = 'char';\n            break;\n          case Uint16Array:\n            inputDescriptor.rawDepth = 'ushort';\n            break;\n          case Int16Array:\n            inputDescriptor.rawDepth = 'short';\n            break;\n          case Uint32Array:\n            inputDescriptor.rawDepth = 'uint';\n            break;\n          case Int32Array:\n            inputDescriptor.rawDepth = 'int';\n            break;\n          case Float32Array:\n            inputDescriptor.rawDepth = 'float';\n            break;\n          case Float64Array:\n            inputDescriptor.rawDepth = 'double';\n            break;\n          default:\n            inputDescriptor.rawDepth = 'uchar';\n            break;\n        }\n      } else {\n        throw new Error('Expected width, height and channels for raw pixel input');\n      }\n    }\n    // Multi-page input (GIF, TIFF, PDF)\n    if (is.defined(inputOptions.animated)) {\n      if (is.bool(inputOptions.animated)) {\n        inputDescriptor.pages = inputOptions.animated ? -1 : 1;\n      } else {\n        throw is.invalidParameterError('animated', 'boolean', inputOptions.animated);\n      }\n    }\n    if (is.defined(inputOptions.pages)) {\n      if (is.integer(inputOptions.pages) && is.inRange(inputOptions.pages, -1, 100000)) {\n        inputDescriptor.pages = inputOptions.pages;\n      } else {\n        throw is.invalidParameterError('pages', 'integer between -1 and 100000', inputOptions.pages);\n      }\n    }\n    if (is.defined(inputOptions.page)) {\n      if (is.integer(inputOptions.page) && is.inRange(inputOptions.page, 0, 100000)) {\n        inputDescriptor.page = inputOptions.page;\n      } else {\n        throw is.invalidParameterError('page', 'integer between 0 and 100000', inputOptions.page);\n      }\n    }\n    // Multi-level input (OpenSlide)\n    if (is.defined(inputOptions.level)) {\n      if (is.integer(inputOptions.level) && is.inRange(inputOptions.level, 0, 256)) {\n        inputDescriptor.level = inputOptions.level;\n      } else {\n        throw is.invalidParameterError('level', 'integer between 0 and 256', inputOptions.level);\n      }\n    }\n    // Sub Image File Directory (TIFF)\n    if (is.defined(inputOptions.subifd)) {\n      if (is.integer(inputOptions.subifd) && is.inRange(inputOptions.subifd, -1, 100000)) {\n        inputDescriptor.subifd = inputOptions.subifd;\n      } else {\n        throw is.invalidParameterError('subifd', 'integer between -1 and 100000', inputOptions.subifd);\n      }\n    }\n    // Create new image\n    if (is.defined(inputOptions.create)) {\n      if (\n        is.object(inputOptions.create) &&\n        is.integer(inputOptions.create.width) && inputOptions.create.width > 0 &&\n        is.integer(inputOptions.create.height) && inputOptions.create.height > 0 &&\n        is.integer(inputOptions.create.channels)\n      ) {\n        inputDescriptor.createWidth = inputOptions.create.width;\n        inputDescriptor.createHeight = inputOptions.create.height;\n        inputDescriptor.createChannels = inputOptions.create.channels;\n        // Noise\n        if (is.defined(inputOptions.create.noise)) {\n          if (!is.object(inputOptions.create.noise)) {\n            throw new Error('Expected noise to be an object');\n          }\n          if (!is.inArray(inputOptions.create.noise.type, ['gaussian'])) {\n            throw new Error('Only gaussian noise is supported at the moment');\n          }\n          if (!is.inRange(inputOptions.create.channels, 1, 4)) {\n            throw is.invalidParameterError('create.channels', 'number between 1 and 4', inputOptions.create.channels);\n          }\n          inputDescriptor.createNoiseType = inputOptions.create.noise.type;\n          if (is.number(inputOptions.create.noise.mean) && is.inRange(inputOptions.create.noise.mean, 0, 10000)) {\n            inputDescriptor.createNoiseMean = inputOptions.create.noise.mean;\n          } else {\n            throw is.invalidParameterError('create.noise.mean', 'number between 0 and 10000', inputOptions.create.noise.mean);\n          }\n          if (is.number(inputOptions.create.noise.sigma) && is.inRange(inputOptions.create.noise.sigma, 0, 10000)) {\n            inputDescriptor.createNoiseSigma = inputOptions.create.noise.sigma;\n          } else {\n            throw is.invalidParameterError('create.noise.sigma', 'number between 0 and 10000', inputOptions.create.noise.sigma);\n          }\n        } else if (is.defined(inputOptions.create.background)) {\n          if (!is.inRange(inputOptions.create.channels, 3, 4)) {\n            throw is.invalidParameterError('create.channels', 'number between 3 and 4', inputOptions.create.channels);\n          }\n          const background = color(inputOptions.create.background);\n          inputDescriptor.createBackground = [\n            background.red(),\n            background.green(),\n            background.blue(),\n            Math.round(background.alpha() * 255)\n          ];\n        } else {\n          throw new Error('Expected valid noise or background to create a new input image');\n        }\n        delete inputDescriptor.buffer;\n      } else {\n        throw new Error('Expected valid width, height and channels to create a new input image');\n      }\n    }\n  } else if (is.defined(inputOptions)) {\n    throw new Error('Invalid input options ' + inputOptions);\n  }\n  return inputDescriptor;\n}\n\n/**\n * Handle incoming Buffer chunk on Writable Stream.\n * @private\n * @param {Buffer} chunk\n * @param {string} encoding - unused\n * @param {Function} callback\n */\nfunction _write (chunk, encoding, callback) {\n  /* istanbul ignore else */\n  if (Array.isArray(this.options.input.buffer)) {\n    /* istanbul ignore else */\n    if (is.buffer(chunk)) {\n      if (this.options.input.buffer.length === 0) {\n        this.on('finish', () => {\n          this.streamInFinished = true;\n        });\n      }\n      this.options.input.buffer.push(chunk);\n      callback();\n    } else {\n      callback(new Error('Non-Buffer data on Writable Stream'));\n    }\n  } else {\n    callback(new Error('Unexpected data on Writable Stream'));\n  }\n}\n\n/**\n * Flattens the array of chunks accumulated in input.buffer.\n * @private\n */\nfunction _flattenBufferIn () {\n  if (this._isStreamInput()) {\n    this.options.input.buffer = Buffer.concat(this.options.input.buffer);\n  }\n}\n\n/**\n * Are we expecting Stream-based input?\n * @private\n * @returns {boolean}\n */\nfunction _isStreamInput () {\n  return Array.isArray(this.options.input.buffer);\n}\n\n/**\n * Fast access to (uncached) image metadata without decoding any compressed image data.\n * A `Promise` is returned when `callback` is not provided.\n *\n * - `format`: Name of decoder used to decompress image data e.g. `jpeg`, `png`, `webp`, `gif`, `svg`\n * - `size`: Total size of image in bytes, for Stream and Buffer input only\n * - `width`: Number of pixels wide (EXIF orientation is not taken into consideration)\n * - `height`: Number of pixels high (EXIF orientation is not taken into consideration)\n * - `space`: Name of colour space interpretation e.g. `srgb`, `rgb`, `cmyk`, `lab`, `b-w` [...](https://libvips.github.io/libvips/API/current/VipsImage.html#VipsInterpretation)\n * - `channels`: Number of bands e.g. `3` for sRGB, `4` for CMYK\n * - `depth`: Name of pixel depth format e.g. `uchar`, `char`, `ushort`, `float` [...](https://libvips.github.io/libvips/API/current/VipsImage.html#VipsBandFormat)\n * - `density`: Number of pixels per inch (DPI), if present\n * - `chromaSubsampling`: String containing JPEG chroma subsampling, `4:2:0` or `4:4:4` for RGB, `4:2:0:4` or `4:4:4:4` for CMYK\n * - `isProgressive`: Boolean indicating whether the image is interlaced using a progressive scan\n * - `pages`: Number of pages/frames contained within the image, with support for TIFF, HEIF, PDF, animated GIF and animated WebP\n * - `pageHeight`: Number of pixels high each page in a multi-page image will be.\n * - `loop`: Number of times to loop an animated image, zero refers to a continuous loop.\n * - `delay`: Delay in ms between each page in an animated image, provided as an array of integers.\n * - `pagePrimary`: Number of the primary page in a HEIF image\n * - `levels`: Details of each level in a multi-level image provided as an array of objects, requires libvips compiled with support for OpenSlide\n * - `subifds`: Number of Sub Image File Directories in an OME-TIFF image\n * - `background`: Default background colour, if present, for PNG (bKGD) and GIF images, either an RGB Object or a single greyscale value\n * - `compression`: The encoder used to compress an HEIF file, `av1` (AVIF) or `hevc` (HEIC)\n * - `hasProfile`: Boolean indicating the presence of an embedded ICC profile\n * - `hasAlpha`: Boolean indicating the presence of an alpha transparency channel\n * - `orientation`: Number value of the EXIF Orientation header, if present\n * - `exif`: Buffer containing raw EXIF data, if present\n * - `icc`: Buffer containing raw [ICC](https://www.npmjs.com/package/icc) profile data, if present\n * - `iptc`: Buffer containing raw IPTC data, if present\n * - `xmp`: Buffer containing raw XMP data, if present\n * - `tifftagPhotoshop`: Buffer containing raw TIFFTAG_PHOTOSHOP data, if present\n *\n * @example\n * const image = sharp(inputJpg);\n * image\n *   .metadata()\n *   .then(function(metadata) {\n *     return image\n *       .resize(Math.round(metadata.width / 2))\n *       .webp()\n *       .toBuffer();\n *   })\n *   .then(function(data) {\n *     // data contains a WebP image half the width and height of the original JPEG\n *   });\n *\n * @param {Function} [callback] - called with the arguments `(err, metadata)`\n * @returns {Promise<Object>|Sharp}\n */\nfunction metadata (callback) {\n  if (is.fn(callback)) {\n    if (this._isStreamInput()) {\n      this.on('finish', () => {\n        this._flattenBufferIn();\n        sharp.metadata(this.options, callback);\n      });\n    } else {\n      sharp.metadata(this.options, callback);\n    }\n    return this;\n  } else {\n    if (this._isStreamInput()) {\n      return new Promise((resolve, reject) => {\n        this.on('finish', () => {\n          this._flattenBufferIn();\n          sharp.metadata(this.options, (err, metadata) => {\n            if (err) {\n              reject(err);\n            } else {\n              resolve(metadata);\n            }\n          });\n        });\n      });\n    } else {\n      return new Promise((resolve, reject) => {\n        sharp.metadata(this.options, (err, metadata) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(metadata);\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * Access to pixel-derived image statistics for every channel in the image.\n * A `Promise` is returned when `callback` is not provided.\n *\n * - `channels`: Array of channel statistics for each channel in the image. Each channel statistic contains\n *     - `min` (minimum value in the channel)\n *     - `max` (maximum value in the channel)\n *     - `sum` (sum of all values in a channel)\n *     - `squaresSum` (sum of squared values in a channel)\n *     - `mean` (mean of the values in a channel)\n *     - `stdev` (standard deviation for the values in a channel)\n *     - `minX` (x-coordinate of one of the pixel where the minimum lies)\n *     - `minY` (y-coordinate of one of the pixel where the minimum lies)\n *     - `maxX` (x-coordinate of one of the pixel where the maximum lies)\n *     - `maxY` (y-coordinate of one of the pixel where the maximum lies)\n * - `isOpaque`: Is the image fully opaque? Will be `true` if the image has no alpha channel or if every pixel is fully opaque.\n * - `entropy`: Histogram-based estimation of greyscale entropy, discarding alpha channel if any (experimental)\n * - `sharpness`: Estimation of greyscale sharpness based on the standard deviation of a Laplacian convolution, discarding alpha channel if any (experimental)\n * - `dominant`: Object containing most dominant sRGB colour based on a 4096-bin 3D histogram (experimental)\n *\n * **Note**: Statistics are derived from the original input image. Any operations performed on the image must first be\n * written to a buffer in order to run `stats` on the result (see third example).\n *\n * @example\n * const image = sharp(inputJpg);\n * image\n *   .stats()\n *   .then(function(stats) {\n *      // stats contains the channel-wise statistics array and the isOpaque value\n *   });\n *\n * @example\n * const { entropy, sharpness, dominant } = await sharp(input).stats();\n * const { r, g, b } = dominant;\n *\n * @example\n * const image = sharp(input);\n * // store intermediate result\n * const part = await image.extract(region).toBuffer();\n * // create new instance to obtain statistics of extracted region\n * const stats = await sharp(part).stats();\n *\n * @param {Function} [callback] - called with the arguments `(err, stats)`\n * @returns {Promise<Object>}\n */\nfunction stats (callback) {\n  if (is.fn(callback)) {\n    if (this._isStreamInput()) {\n      this.on('finish', () => {\n        this._flattenBufferIn();\n        sharp.stats(this.options, callback);\n      });\n    } else {\n      sharp.stats(this.options, callback);\n    }\n    return this;\n  } else {\n    if (this._isStreamInput()) {\n      return new Promise((resolve, reject) => {\n        this.on('finish', function () {\n          this._flattenBufferIn();\n          sharp.stats(this.options, (err, stats) => {\n            if (err) {\n              reject(err);\n            } else {\n              resolve(stats);\n            }\n          });\n        });\n      });\n    } else {\n      return new Promise((resolve, reject) => {\n        sharp.stats(this.options, (err, stats) => {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(stats);\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * Decorate the Sharp prototype with input-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Private\n    _inputOptionsFromObject,\n    _createInputDescriptor,\n    _write,\n    _flattenBufferIn,\n    _isStreamInput,\n    // Public\n    metadata,\n    stats\n  });\n};\n", "'use strict';\n\nconst is = require('./is');\n\n/**\n * Weighting to apply when using contain/cover fit.\n * @member\n * @private\n */\nconst gravity = {\n  center: 0,\n  centre: 0,\n  north: 1,\n  east: 2,\n  south: 3,\n  west: 4,\n  northeast: 5,\n  southeast: 6,\n  southwest: 7,\n  northwest: 8\n};\n\n/**\n * Position to apply when using contain/cover fit.\n * @member\n * @private\n */\nconst position = {\n  top: 1,\n  right: 2,\n  bottom: 3,\n  left: 4,\n  'right top': 5,\n  'right bottom': 6,\n  'left bottom': 7,\n  'left top': 8\n};\n\n/**\n * Strategies for automagic cover behaviour.\n * @member\n * @private\n */\nconst strategy = {\n  entropy: 16,\n  attention: 17\n};\n\n/**\n * Reduction kernels.\n * @member\n * @private\n */\nconst kernel = {\n  nearest: 'nearest',\n  cubic: 'cubic',\n  mitchell: 'mitchell',\n  lanczos2: 'lanczos2',\n  lanczos3: 'lanczos3'\n};\n\n/**\n * Methods by which an image can be resized to fit the provided dimensions.\n * @member\n * @private\n */\nconst fit = {\n  contain: 'contain',\n  cover: 'cover',\n  fill: 'fill',\n  inside: 'inside',\n  outside: 'outside'\n};\n\n/**\n * Map external fit property to internal canvas property.\n * @member\n * @private\n */\nconst mapFitToCanvas = {\n  contain: 'embed',\n  cover: 'crop',\n  fill: 'ignore_aspect',\n  inside: 'max',\n  outside: 'min'\n};\n\n/**\n * @private\n */\nfunction isRotationExpected (options) {\n  return (options.angle % 360) !== 0 || options.useExifOrientation === true || options.rotationAngle !== 0;\n}\n\n/**\n * Resize image to `width`, `height` or `width x height`.\n *\n * When both a `width` and `height` are provided, the possible methods by which the image should **fit** these are:\n * - `cover`: (default) Preserving aspect ratio, ensure the image covers both provided dimensions by cropping/clipping to fit.\n * - `contain`: Preserving aspect ratio, contain within both provided dimensions using \"letterboxing\" where necessary.\n * - `fill`: Ignore the aspect ratio of the input and stretch to both provided dimensions.\n * - `inside`: Preserving aspect ratio, resize the image to be as large as possible while ensuring its dimensions are less than or equal to both those specified.\n * - `outside`: Preserving aspect ratio, resize the image to be as small as possible while ensuring its dimensions are greater than or equal to both those specified.\n *\n * Some of these values are based on the [object-fit](https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit) CSS property.\n *\n * When using a `fit` of `cover` or `contain`, the default **position** is `centre`. Other options are:\n * - `sharp.position`: `top`, `right top`, `right`, `right bottom`, `bottom`, `left bottom`, `left`, `left top`.\n * - `sharp.gravity`: `north`, `northeast`, `east`, `southeast`, `south`, `southwest`, `west`, `northwest`, `center` or `centre`.\n * - `sharp.strategy`: `cover` only, dynamically crop using either the `entropy` or `attention` strategy.\n *\n * Some of these values are based on the [object-position](https://developer.mozilla.org/en-US/docs/Web/CSS/object-position) CSS property.\n *\n * The experimental strategy-based approach resizes so one dimension is at its target length\n * then repeatedly ranks edge regions, discarding the edge with the lowest score based on the selected strategy.\n * - `entropy`: focus on the region with the highest [Shannon entropy](https://en.wikipedia.org/wiki/Entropy_%28information_theory%29).\n * - `attention`: focus on the region with the highest luminance frequency, colour saturation and presence of skin tones.\n *\n * Possible interpolation kernels are:\n * - `nearest`: Use [nearest neighbour interpolation](http://en.wikipedia.org/wiki/Nearest-neighbor_interpolation).\n * - `cubic`: Use a [Catmull-Rom spline](https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline).\n * - `mitchell`: Use a [Mitchell-Netravali spline](https://www.cs.utexas.edu/~fussell/courses/cs384g-fall2013/lectures/mitchell/Mitchell.pdf).\n * - `lanczos2`: Use a [Lanczos kernel](https://en.wikipedia.org/wiki/Lanczos_resampling#Lanczos_kernel) with `a=2`.\n * - `lanczos3`: Use a Lanczos kernel with `a=3` (the default).\n *\n * @example\n * sharp(input)\n *   .resize({ width: 100 })\n *   .toBuffer()\n *   .then(data => {\n *     // 100 pixels wide, auto-scaled height\n *   });\n *\n * @example\n * sharp(input)\n *   .resize({ height: 100 })\n *   .toBuffer()\n *   .then(data => {\n *     // 100 pixels high, auto-scaled width\n *   });\n *\n * @example\n * sharp(input)\n *   .resize(200, 300, {\n *     kernel: sharp.kernel.nearest,\n *     fit: 'contain',\n *     position: 'right top',\n *     background: { r: 255, g: 255, b: 255, alpha: 0.5 }\n *   })\n *   .toFile('output.png')\n *   .then(() => {\n *     // output.png is a 200 pixels wide and 300 pixels high image\n *     // containing a nearest-neighbour scaled version\n *     // contained within the north-east corner of a semi-transparent white canvas\n *   });\n *\n * @example\n * const transformer = sharp()\n *   .resize({\n *     width: 200,\n *     height: 200,\n *     fit: sharp.fit.cover,\n *     position: sharp.strategy.entropy\n *   });\n * // Read image data from readableStream\n * // Write 200px square auto-cropped image data to writableStream\n * readableStream\n *   .pipe(transformer)\n *   .pipe(writableStream);\n *\n * @example\n * sharp(input)\n *   .resize(200, 200, {\n *     fit: sharp.fit.inside,\n *     withoutEnlargement: true\n *   })\n *   .toFormat('jpeg')\n *   .toBuffer()\n *   .then(function(outputBuffer) {\n *     // outputBuffer contains JPEG image data\n *     // no wider and no higher than 200 pixels\n *     // and no larger than the input image\n *   });\n *\n * @example\n * const scaleByHalf = await sharp(input)\n *   .metadata()\n *   .then(({ width }) => sharp(input)\n *     .resize(Math.round(width * 0.5))\n *     .toBuffer()\n *   );\n *\n * @param {number} [width] - pixels wide the resultant image should be. Use `null` or `undefined` to auto-scale the width to match the height.\n * @param {number} [height] - pixels high the resultant image should be. Use `null` or `undefined` to auto-scale the height to match the width.\n * @param {Object} [options]\n * @param {String} [options.width] - alternative means of specifying `width`. If both are present this take priority.\n * @param {String} [options.height] - alternative means of specifying `height`. If both are present this take priority.\n * @param {String} [options.fit='cover'] - how the image should be resized to fit both provided dimensions, one of `cover`, `contain`, `fill`, `inside` or `outside`.\n * @param {String} [options.position='centre'] - position, gravity or strategy to use when `fit` is `cover` or `contain`.\n * @param {String|Object} [options.background={r: 0, g: 0, b: 0, alpha: 1}] - background colour when using a `fit` of `contain`, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to black without transparency.\n * @param {String} [options.kernel='lanczos3'] - the kernel to use for image reduction.\n * @param {Boolean} [options.withoutEnlargement=false] - do not enlarge if the width *or* height are already less than the specified dimensions, equivalent to GraphicsMagick's `>` geometry option.\n * @param {Boolean} [options.fastShrinkOnLoad=true] - take greater advantage of the JPEG and WebP shrink-on-load feature, which can lead to a slight moir\u00E9 pattern on some images.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction resize (width, height, options) {\n  if (is.defined(width)) {\n    if (is.object(width) && !is.defined(options)) {\n      options = width;\n    } else if (is.integer(width) && width > 0) {\n      this.options.width = width;\n    } else {\n      throw is.invalidParameterError('width', 'positive integer', width);\n    }\n  } else {\n    this.options.width = -1;\n  }\n  if (is.defined(height)) {\n    if (is.integer(height) && height > 0) {\n      this.options.height = height;\n    } else {\n      throw is.invalidParameterError('height', 'positive integer', height);\n    }\n  } else {\n    this.options.height = -1;\n  }\n  if (is.object(options)) {\n    // Width\n    if (is.defined(options.width)) {\n      if (is.integer(options.width) && options.width > 0) {\n        this.options.width = options.width;\n      } else {\n        throw is.invalidParameterError('width', 'positive integer', options.width);\n      }\n    }\n    // Height\n    if (is.defined(options.height)) {\n      if (is.integer(options.height) && options.height > 0) {\n        this.options.height = options.height;\n      } else {\n        throw is.invalidParameterError('height', 'positive integer', options.height);\n      }\n    }\n    // Fit\n    if (is.defined(options.fit)) {\n      const canvas = mapFitToCanvas[options.fit];\n      if (is.string(canvas)) {\n        this.options.canvas = canvas;\n      } else {\n        throw is.invalidParameterError('fit', 'valid fit', options.fit);\n      }\n    }\n    // Position\n    if (is.defined(options.position)) {\n      const pos = is.integer(options.position)\n        ? options.position\n        : strategy[options.position] || position[options.position] || gravity[options.position];\n      if (is.integer(pos) && (is.inRange(pos, 0, 8) || is.inRange(pos, 16, 17))) {\n        this.options.position = pos;\n      } else {\n        throw is.invalidParameterError('position', 'valid position/gravity/strategy', options.position);\n      }\n    }\n    // Background\n    this._setBackgroundColourOption('resizeBackground', options.background);\n    // Kernel\n    if (is.defined(options.kernel)) {\n      if (is.string(kernel[options.kernel])) {\n        this.options.kernel = kernel[options.kernel];\n      } else {\n        throw is.invalidParameterError('kernel', 'valid kernel name', options.kernel);\n      }\n    }\n    // Without enlargement\n    if (is.defined(options.withoutEnlargement)) {\n      this._setBooleanOption('withoutEnlargement', options.withoutEnlargement);\n    }\n    // Shrink on load\n    if (is.defined(options.fastShrinkOnLoad)) {\n      this._setBooleanOption('fastShrinkOnLoad', options.fastShrinkOnLoad);\n    }\n  }\n  return this;\n}\n\n/**\n * Extends/pads the edges of the image with the provided background colour.\n * This operation will always occur after resizing and extraction, if any.\n *\n * @example\n * // Resize to 140 pixels wide, then add 10 transparent pixels\n * // to the top, left and right edges and 20 to the bottom edge\n * sharp(input)\n *   .resize(140)\n *   .extend({\n *     top: 10,\n *     bottom: 20,\n *     left: 10,\n *     right: 10,\n *     background: { r: 0, g: 0, b: 0, alpha: 0 }\n *   })\n *   ...\n *\n* @example\n * // Add a row of 10 red pixels to the bottom\n * sharp(input)\n *   .extend({\n *     bottom: 10,\n *     background: 'red'\n *   })\n *   ...\n *\n * @param {(number|Object)} extend - single pixel count to add to all edges or an Object with per-edge counts\n * @param {number} [extend.top=0]\n * @param {number} [extend.left=0]\n * @param {number} [extend.bottom=0]\n * @param {number} [extend.right=0]\n * @param {String|Object} [extend.background={r: 0, g: 0, b: 0, alpha: 1}] - background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to black without transparency.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n*/\nfunction extend (extend) {\n  if (is.integer(extend) && extend > 0) {\n    this.options.extendTop = extend;\n    this.options.extendBottom = extend;\n    this.options.extendLeft = extend;\n    this.options.extendRight = extend;\n  } else if (is.object(extend)) {\n    if (is.defined(extend.top)) {\n      if (is.integer(extend.top) && extend.top >= 0) {\n        this.options.extendTop = extend.top;\n      } else {\n        throw is.invalidParameterError('top', 'positive integer', extend.top);\n      }\n    }\n    if (is.defined(extend.bottom)) {\n      if (is.integer(extend.bottom) && extend.bottom >= 0) {\n        this.options.extendBottom = extend.bottom;\n      } else {\n        throw is.invalidParameterError('bottom', 'positive integer', extend.bottom);\n      }\n    }\n    if (is.defined(extend.left)) {\n      if (is.integer(extend.left) && extend.left >= 0) {\n        this.options.extendLeft = extend.left;\n      } else {\n        throw is.invalidParameterError('left', 'positive integer', extend.left);\n      }\n    }\n    if (is.defined(extend.right)) {\n      if (is.integer(extend.right) && extend.right >= 0) {\n        this.options.extendRight = extend.right;\n      } else {\n        throw is.invalidParameterError('right', 'positive integer', extend.right);\n      }\n    }\n    this._setBackgroundColourOption('extendBackground', extend.background);\n  } else {\n    throw is.invalidParameterError('extend', 'integer or object', extend);\n  }\n  return this;\n}\n\n/**\n * Extract/crop a region of the image.\n *\n * - Use `extract` before `resize` for pre-resize extraction.\n * - Use `extract` after `resize` for post-resize extraction.\n * - Use `extract` before and after for both.\n *\n * @example\n * sharp(input)\n *   .extract({ left: left, top: top, width: width, height: height })\n *   .toFile(output, function(err) {\n *     // Extract a region of the input image, saving in the same format.\n *   });\n * @example\n * sharp(input)\n *   .extract({ left: leftOffsetPre, top: topOffsetPre, width: widthPre, height: heightPre })\n *   .resize(width, height)\n *   .extract({ left: leftOffsetPost, top: topOffsetPost, width: widthPost, height: heightPost })\n *   .toFile(output, function(err) {\n *     // Extract a region, resize, then extract from the resized image\n *   });\n *\n * @param {Object} options - describes the region to extract using integral pixel values\n * @param {number} options.left - zero-indexed offset from left edge\n * @param {number} options.top - zero-indexed offset from top edge\n * @param {number} options.width - width of region to extract\n * @param {number} options.height - height of region to extract\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction extract (options) {\n  const suffix = this.options.width === -1 && this.options.height === -1 ? 'Pre' : 'Post';\n  ['left', 'top', 'width', 'height'].forEach(function (name) {\n    const value = options[name];\n    if (is.integer(value) && value >= 0) {\n      this.options[name + (name === 'left' || name === 'top' ? 'Offset' : '') + suffix] = value;\n    } else {\n      throw is.invalidParameterError(name, 'integer', value);\n    }\n  }, this);\n  // Ensure existing rotation occurs before pre-resize extraction\n  if (suffix === 'Pre' && isRotationExpected(this.options)) {\n    this.options.rotateBeforePreExtract = true;\n  }\n  return this;\n}\n\n/**\n * Trim \"boring\" pixels from all edges that contain values similar to the top-left pixel.\n * Images consisting entirely of a single colour will calculate \"boring\" using the alpha channel, if any.\n *\n * The `info` response Object, obtained from callback of `.toFile()` or `.toBuffer()`,\n * will contain `trimOffsetLeft` and `trimOffsetTop` properties.\n *\n * @param {number} [threshold=10] the allowed difference from the top-left pixel, a number greater than zero.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction trim (threshold) {\n  if (!is.defined(threshold)) {\n    this.options.trimThreshold = 10;\n  } else if (is.number(threshold) && threshold > 0) {\n    this.options.trimThreshold = threshold;\n  } else {\n    throw is.invalidParameterError('threshold', 'number greater than zero', threshold);\n  }\n  if (this.options.trimThreshold && isRotationExpected(this.options)) {\n    this.options.rotateBeforePreExtract = true;\n  }\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with resize-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    resize,\n    extend,\n    extract,\n    trim\n  });\n  // Class attributes\n  Sharp.gravity = gravity;\n  Sharp.strategy = strategy;\n  Sharp.kernel = kernel;\n  Sharp.fit = fit;\n  Sharp.position = position;\n};\n", "'use strict';\n\nconst is = require('./is');\n\n/**\n * Blend modes.\n * @member\n * @private\n */\nconst blend = {\n  clear: 'clear',\n  source: 'source',\n  over: 'over',\n  in: 'in',\n  out: 'out',\n  atop: 'atop',\n  dest: 'dest',\n  'dest-over': 'dest-over',\n  'dest-in': 'dest-in',\n  'dest-out': 'dest-out',\n  'dest-atop': 'dest-atop',\n  xor: 'xor',\n  add: 'add',\n  saturate: 'saturate',\n  multiply: 'multiply',\n  screen: 'screen',\n  overlay: 'overlay',\n  darken: 'darken',\n  lighten: 'lighten',\n  'colour-dodge': 'colour-dodge',\n  'color-dodge': 'colour-dodge',\n  'colour-burn': 'colour-burn',\n  'color-burn': 'colour-burn',\n  'hard-light': 'hard-light',\n  'soft-light': 'soft-light',\n  difference: 'difference',\n  exclusion: 'exclusion'\n};\n\n/**\n * Composite image(s) over the processed (resized, extracted etc.) image.\n *\n * The images to composite must be the same size or smaller than the processed image.\n * If both `top` and `left` options are provided, they take precedence over `gravity`.\n *\n * The `blend` option can be one of `clear`, `source`, `over`, `in`, `out`, `atop`,\n * `dest`, `dest-over`, `dest-in`, `dest-out`, `dest-atop`,\n * `xor`, `add`, `saturate`, `multiply`, `screen`, `overlay`, `darken`, `lighten`,\n * `colour-dodge`, `color-dodge`, `colour-burn`,`color-burn`,\n * `hard-light`, `soft-light`, `difference`, `exclusion`.\n *\n * More information about blend modes can be found at\n * https://libvips.github.io/libvips/API/current/libvips-conversion.html#VipsBlendMode\n * and https://www.cairographics.org/operators/\n *\n * @since 0.22.0\n *\n * @example\n * sharp('input.png')\n *   .rotate(180)\n *   .resize(300)\n *   .flatten( { background: '#ff6600' } )\n *   .composite([{ input: 'overlay.png', gravity: 'southeast' }])\n *   .sharpen()\n *   .withMetadata()\n *   .webp( { quality: 90 } )\n *   .toBuffer()\n *   .then(function(outputBuffer) {\n *     // outputBuffer contains upside down, 300px wide, alpha channel flattened\n *     // onto orange background, composited with overlay.png with SE gravity,\n *     // sharpened, with metadata, 90% quality WebP image data. Phew!\n *   });\n *\n * @param {Object[]} images - Ordered list of images to composite\n * @param {Buffer|String} [images[].input] - Buffer containing image data, String containing the path to an image file, or Create object (see below)\n * @param {Object} [images[].input.create] - describes a blank overlay to be created.\n * @param {Number} [images[].input.create.width]\n * @param {Number} [images[].input.create.height]\n * @param {Number} [images[].input.create.channels] - 3-4\n * @param {String|Object} [images[].input.create.background] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {String} [images[].blend='over'] - how to blend this image with the image below.\n * @param {String} [images[].gravity='centre'] - gravity at which to place the overlay.\n * @param {Number} [images[].top] - the pixel offset from the top edge.\n * @param {Number} [images[].left] - the pixel offset from the left edge.\n * @param {Boolean} [images[].tile=false] - set to true to repeat the overlay image across the entire image with the given `gravity`.\n * @param {Boolean} [images[].premultiplied=false] - set to true to avoid premultipling the image below. Equivalent to the `--premultiplied` vips option.\n * @param {Number} [images[].density=72] - number representing the DPI for vector overlay image.\n * @param {Object} [images[].raw] - describes overlay when using raw pixel data.\n * @param {Number} [images[].raw.width]\n * @param {Number} [images[].raw.height]\n * @param {Number} [images[].raw.channels]\n * @param {boolean} [images[].failOnError=true] - @see {@link /api-constructor#parameters|constructor parameters}\n * @param {number|boolean} [images[].limitInputPixels=268402689] - @see {@link /api-constructor#parameters|constructor parameters}\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction composite (images) {\n  if (!Array.isArray(images)) {\n    throw is.invalidParameterError('images to composite', 'array', images);\n  }\n  this.options.composite = images.map(image => {\n    if (!is.object(image)) {\n      throw is.invalidParameterError('image to composite', 'object', image);\n    }\n    const inputOptions = this._inputOptionsFromObject(image);\n    const composite = {\n      input: this._createInputDescriptor(image.input, inputOptions, { allowStream: false }),\n      blend: 'over',\n      tile: false,\n      left: 0,\n      top: 0,\n      hasOffset: false,\n      gravity: 0,\n      premultiplied: false\n    };\n    if (is.defined(image.blend)) {\n      if (is.string(blend[image.blend])) {\n        composite.blend = blend[image.blend];\n      } else {\n        throw is.invalidParameterError('blend', 'valid blend name', image.blend);\n      }\n    }\n    if (is.defined(image.tile)) {\n      if (is.bool(image.tile)) {\n        composite.tile = image.tile;\n      } else {\n        throw is.invalidParameterError('tile', 'boolean', image.tile);\n      }\n    }\n    if (is.defined(image.left)) {\n      if (is.integer(image.left)) {\n        composite.left = image.left;\n      } else {\n        throw is.invalidParameterError('left', 'integer', image.left);\n      }\n    }\n    if (is.defined(image.top)) {\n      if (is.integer(image.top)) {\n        composite.top = image.top;\n      } else {\n        throw is.invalidParameterError('top', 'integer', image.top);\n      }\n    }\n    if (is.defined(image.top) !== is.defined(image.left)) {\n      throw new Error('Expected both left and top to be set');\n    } else {\n      composite.hasOffset = is.integer(image.top) && is.integer(image.left);\n    }\n    if (is.defined(image.gravity)) {\n      if (is.integer(image.gravity) && is.inRange(image.gravity, 0, 8)) {\n        composite.gravity = image.gravity;\n      } else if (is.string(image.gravity) && is.integer(this.constructor.gravity[image.gravity])) {\n        composite.gravity = this.constructor.gravity[image.gravity];\n      } else {\n        throw is.invalidParameterError('gravity', 'valid gravity', image.gravity);\n      }\n    }\n    if (is.defined(image.premultiplied)) {\n      if (is.bool(image.premultiplied)) {\n        composite.premultiplied = image.premultiplied;\n      } else {\n        throw is.invalidParameterError('premultiplied', 'boolean', image.premultiplied);\n      }\n    }\n\n    return composite;\n  });\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with composite-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Sharp.prototype.composite = composite;\n  Sharp.blend = blend;\n};\n", "'use strict';\n\nconst color = require('color');\nconst is = require('./is');\n\n/**\n * Rotate the output image by either an explicit angle\n * or auto-orient based on the EXIF `Orientation` tag.\n *\n * If an angle is provided, it is converted to a valid positive degree rotation.\n * For example, `-450` will produce a 270deg rotation.\n *\n * When rotating by an angle other than a multiple of 90,\n * the background colour can be provided with the `background` option.\n *\n * If no angle is provided, it is determined from the EXIF data.\n * Mirroring is supported and may infer the use of a flip operation.\n *\n * The use of `rotate` implies the removal of the EXIF `Orientation` tag, if any.\n *\n * Method order is important when both rotating and extracting regions,\n * for example `rotate(x).extract(y)` will produce a different result to `extract(y).rotate(x)`.\n *\n * @example\n * const pipeline = sharp()\n *   .rotate()\n *   .resize(null, 200)\n *   .toBuffer(function (err, outputBuffer, info) {\n *     // outputBuffer contains 200px high JPEG image data,\n *     // auto-rotated using EXIF Orientation tag\n *     // info.width and info.height contain the dimensions of the resized image\n *   });\n * readableStream.pipe(pipeline);\n *\n * @param {number} [angle=auto] angle of rotation.\n * @param {Object} [options] - if present, is an Object with optional attributes.\n * @param {string|Object} [options.background=\"#000000\"] parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction rotate (angle, options) {\n  if (!is.defined(angle)) {\n    this.options.useExifOrientation = true;\n  } else if (is.integer(angle) && !(angle % 90)) {\n    this.options.angle = angle;\n  } else if (is.number(angle)) {\n    this.options.rotationAngle = angle;\n    if (is.object(options) && options.background) {\n      const backgroundColour = color(options.background);\n      this.options.rotationBackground = [\n        backgroundColour.red(),\n        backgroundColour.green(),\n        backgroundColour.blue(),\n        Math.round(backgroundColour.alpha() * 255)\n      ];\n    }\n  } else {\n    throw is.invalidParameterError('angle', 'numeric', angle);\n  }\n  return this;\n}\n\n/**\n * Flip the image about the vertical Y axis. This always occurs after rotation, if any.\n * The use of `flip` implies the removal of the EXIF `Orientation` tag, if any.\n * @param {Boolean} [flip=true]\n * @returns {Sharp}\n */\nfunction flip (flip) {\n  this.options.flip = is.bool(flip) ? flip : true;\n  return this;\n}\n\n/**\n * Flop the image about the horizontal X axis. This always occurs after rotation, if any.\n * The use of `flop` implies the removal of the EXIF `Orientation` tag, if any.\n * @param {Boolean} [flop=true]\n * @returns {Sharp}\n */\nfunction flop (flop) {\n  this.options.flop = is.bool(flop) ? flop : true;\n  return this;\n}\n\n/**\n * Perform an affine transform on an image. This operation will always occur after resizing, extraction and rotation, if any.\n *\n * You must provide an array of length 4 or a 2x2 affine transformation matrix.\n * By default, new pixels are filled with a black background. You can provide a background color with the `background` option.\n * A particular interpolator may also be specified. Set the `interpolator` option to an attribute of the `sharp.interpolator` Object e.g. `sharp.interpolator.nohalo`.\n *\n * In the case of a 2x2 matrix, the transform is:\n * - X = `matrix[0, 0]` \\* (x + `idx`) + `matrix[0, 1]` \\* (y + `idy`) + `odx`\n * - Y = `matrix[1, 0]` \\* (x + `idx`) + `matrix[1, 1]` \\* (y + `idy`) + `ody`\n *\n * where:\n * - x and y are the coordinates in input image.\n * - X and Y are the coordinates in output image.\n * - (0,0) is the upper left corner.\n *\n * @since 0.27.0\n *\n * @example\n * const pipeline = sharp()\n *   .affine([[1, 0.3], [0.1, 0.7]], {\n *      background: 'white',\n *      interpolate: sharp.interpolators.nohalo\n *   })\n *   .toBuffer((err, outputBuffer, info) => {\n *      // outputBuffer contains the transformed image\n *      // info.width and info.height contain the new dimensions\n *   });\n *\n * inputStream\n *   .pipe(pipeline);\n *\n * @param {Array<Array<number>>|Array<number>} matrix - affine transformation matrix\n * @param {Object} [options] - if present, is an Object with optional attributes.\n * @param {String|Object} [options.background=\"#000000\"] - parsed by the [color](https://www.npmjs.org/package/color) module to extract values for red, green, blue and alpha.\n * @param {Number} [options.idx=0] - input horizontal offset\n * @param {Number} [options.idy=0] - input vertical offset\n * @param {Number} [options.odx=0] - output horizontal offset\n * @param {Number} [options.ody=0] - output vertical offset\n * @param {String} [options.interpolator=sharp.interpolators.bicubic] - interpolator\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction affine (matrix, options) {\n  const flatMatrix = [].concat(...matrix);\n  if (flatMatrix.length === 4 && flatMatrix.every(is.number)) {\n    this.options.affineMatrix = flatMatrix;\n  } else {\n    throw is.invalidParameterError('matrix', '1x4 or 2x2 array', matrix);\n  }\n\n  if (is.defined(options)) {\n    if (is.object(options)) {\n      this._setBackgroundColourOption('affineBackground', options.background);\n      if (is.defined(options.idx)) {\n        if (is.number(options.idx)) {\n          this.options.affineIdx = options.idx;\n        } else {\n          throw is.invalidParameterError('options.idx', 'number', options.idx);\n        }\n      }\n      if (is.defined(options.idy)) {\n        if (is.number(options.idy)) {\n          this.options.affineIdy = options.idy;\n        } else {\n          throw is.invalidParameterError('options.idy', 'number', options.idy);\n        }\n      }\n      if (is.defined(options.odx)) {\n        if (is.number(options.odx)) {\n          this.options.affineOdx = options.odx;\n        } else {\n          throw is.invalidParameterError('options.odx', 'number', options.odx);\n        }\n      }\n      if (is.defined(options.ody)) {\n        if (is.number(options.ody)) {\n          this.options.affineOdy = options.ody;\n        } else {\n          throw is.invalidParameterError('options.ody', 'number', options.ody);\n        }\n      }\n      if (is.defined(options.interpolator)) {\n        if (is.inArray(options.interpolator, Object.values(this.constructor.interpolators))) {\n          this.options.affineInterpolator = options.interpolator;\n        } else {\n          throw is.invalidParameterError('options.interpolator', 'valid interpolator name', options.interpolator);\n        }\n      }\n    } else {\n      throw is.invalidParameterError('options', 'object', options);\n    }\n  }\n\n  return this;\n}\n\n/**\n * Sharpen the image.\n * When used without parameters, performs a fast, mild sharpen of the output image.\n * When a `sigma` is provided, performs a slower, more accurate sharpen of the L channel in the LAB colour space.\n * Separate control over the level of sharpening in \"flat\" and \"jagged\" areas is available.\n *\n * @param {number} [sigma] - the sigma of the Gaussian mask, where `sigma = 1 + radius / 2`.\n * @param {number} [flat=1.0] - the level of sharpening to apply to \"flat\" areas.\n * @param {number} [jagged=2.0] - the level of sharpening to apply to \"jagged\" areas.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction sharpen (sigma, flat, jagged) {\n  if (!is.defined(sigma)) {\n    // No arguments: default to mild sharpen\n    this.options.sharpenSigma = -1;\n  } else if (is.bool(sigma)) {\n    // Boolean argument: apply mild sharpen?\n    this.options.sharpenSigma = sigma ? -1 : 0;\n  } else if (is.number(sigma) && is.inRange(sigma, 0.01, 10000)) {\n    // Numeric argument: specific sigma\n    this.options.sharpenSigma = sigma;\n    // Control over flat areas\n    if (is.defined(flat)) {\n      if (is.number(flat) && is.inRange(flat, 0, 10000)) {\n        this.options.sharpenFlat = flat;\n      } else {\n        throw is.invalidParameterError('flat', 'number between 0 and 10000', flat);\n      }\n    }\n    // Control over jagged areas\n    if (is.defined(jagged)) {\n      if (is.number(jagged) && is.inRange(jagged, 0, 10000)) {\n        this.options.sharpenJagged = jagged;\n      } else {\n        throw is.invalidParameterError('jagged', 'number between 0 and 10000', jagged);\n      }\n    }\n  } else {\n    throw is.invalidParameterError('sigma', 'number between 0.01 and 10000', sigma);\n  }\n  return this;\n}\n\n/**\n * Apply median filter.\n * When used without parameters the default window is 3x3.\n * @param {number} [size=3] square mask size: size x size\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction median (size) {\n  if (!is.defined(size)) {\n    // No arguments: default to 3x3\n    this.options.medianSize = 3;\n  } else if (is.integer(size) && is.inRange(size, 1, 1000)) {\n    // Numeric argument: specific sigma\n    this.options.medianSize = size;\n  } else {\n    throw is.invalidParameterError('size', 'integer between 1 and 1000', size);\n  }\n  return this;\n}\n\n/**\n * Blur the image.\n * When used without parameters, performs a fast, mild blur of the output image.\n * When a `sigma` is provided, performs a slower, more accurate Gaussian blur.\n * @param {number} [sigma] a value between 0.3 and 1000 representing the sigma of the Gaussian mask, where `sigma = 1 + radius / 2`.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction blur (sigma) {\n  if (!is.defined(sigma)) {\n    // No arguments: default to mild blur\n    this.options.blurSigma = -1;\n  } else if (is.bool(sigma)) {\n    // Boolean argument: apply mild blur?\n    this.options.blurSigma = sigma ? -1 : 0;\n  } else if (is.number(sigma) && is.inRange(sigma, 0.3, 1000)) {\n    // Numeric argument: specific sigma\n    this.options.blurSigma = sigma;\n  } else {\n    throw is.invalidParameterError('sigma', 'number between 0.3 and 1000', sigma);\n  }\n  return this;\n}\n\n/**\n * Merge alpha transparency channel, if any, with a background, then remove the alpha channel.\n *\n * See also {@link /api-channel#removealpha|removeAlpha}.\n *\n * @example\n * await sharp(rgbaInput)\n *   .flatten({ background: '#F0A703' })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {string|Object} [options.background={r: 0, g: 0, b: 0}] - background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to black.\n * @returns {Sharp}\n */\nfunction flatten (options) {\n  this.options.flatten = is.bool(options) ? options : true;\n  if (is.object(options)) {\n    this._setBackgroundColourOption('flattenBackground', options.background);\n  }\n  return this;\n}\n\n/**\n * Apply a gamma correction by reducing the encoding (darken) pre-resize at a factor of `1/gamma`\n * then increasing the encoding (brighten) post-resize at a factor of `gamma`.\n * This can improve the perceived brightness of a resized image in non-linear colour spaces.\n * JPEG and WebP input images will not take advantage of the shrink-on-load performance optimisation\n * when applying a gamma correction.\n *\n * Supply a second argument to use a different output gamma value, otherwise the first value is used in both cases.\n *\n * @param {number} [gamma=2.2] value between 1.0 and 3.0.\n * @param {number} [gammaOut] value between 1.0 and 3.0. (optional, defaults to same as `gamma`)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction gamma (gamma, gammaOut) {\n  if (!is.defined(gamma)) {\n    // Default gamma correction of 2.2 (sRGB)\n    this.options.gamma = 2.2;\n  } else if (is.number(gamma) && is.inRange(gamma, 1, 3)) {\n    this.options.gamma = gamma;\n  } else {\n    throw is.invalidParameterError('gamma', 'number between 1.0 and 3.0', gamma);\n  }\n  if (!is.defined(gammaOut)) {\n    // Default gamma correction for output is same as input\n    this.options.gammaOut = this.options.gamma;\n  } else if (is.number(gammaOut) && is.inRange(gammaOut, 1, 3)) {\n    this.options.gammaOut = gammaOut;\n  } else {\n    throw is.invalidParameterError('gammaOut', 'number between 1.0 and 3.0', gammaOut);\n  }\n  return this;\n}\n\n/**\n * Produce the \"negative\" of the image.\n * @param {Object} [options]\n * @param {Boolean} [options.alpha=true] Whether or not to negate any alpha channel\n * @returns {Sharp}\n */\nfunction negate (options) {\n  this.options.negate = is.bool(options) ? options : true;\n  if (is.plainObject(options) && 'alpha' in options) {\n    if (!is.bool(options.alpha)) {\n      throw is.invalidParameterError('alpha', 'should be boolean value', options.alpha);\n    } else {\n      this.options.negateAlpha = options.alpha;\n    }\n  }\n  return this;\n}\n\n/**\n * Enhance output image contrast by stretching its luminance to cover the full dynamic range.\n * @param {Boolean} [normalise=true]\n * @returns {Sharp}\n */\nfunction normalise (normalise) {\n  this.options.normalise = is.bool(normalise) ? normalise : true;\n  return this;\n}\n\n/**\n * Alternative spelling of normalise.\n * @param {Boolean} [normalize=true]\n * @returns {Sharp}\n */\nfunction normalize (normalize) {\n  return this.normalise(normalize);\n}\n\n/**\n * Perform contrast limiting adaptive histogram equalization\n * {@link https://en.wikipedia.org/wiki/Adaptive_histogram_equalization#Contrast_Limited_AHE|CLAHE}.\n *\n * This will, in general, enhance the clarity of the image by bringing out darker details.\n *\n * @since 0.28.3\n *\n * @param {Object} options\n * @param {number} options.width - integer width of the region in pixels.\n * @param {number} options.height - integer height of the region in pixels.\n * @param {number} [options.maxSlope=3] - maximum value for the slope of the\n *  cumulative histogram. A value of 0 disables contrast limiting. Valid values\n *  are integers in the range 0-100 (inclusive)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction clahe (options) {\n  if (!is.plainObject(options)) {\n    throw is.invalidParameterError('options', 'plain object', options);\n  }\n  if (!('width' in options) || !is.integer(options.width) || options.width <= 0) {\n    throw is.invalidParameterError('width', 'integer above zero', options.width);\n  } else {\n    this.options.claheWidth = options.width;\n  }\n  if (!('height' in options) || !is.integer(options.height) || options.height <= 0) {\n    throw is.invalidParameterError('height', 'integer above zero', options.height);\n  } else {\n    this.options.claheHeight = options.height;\n  }\n  if (!is.defined(options.maxSlope)) {\n    this.options.claheMaxSlope = 3;\n  } else if (!is.integer(options.maxSlope) || options.maxSlope < 0 || options.maxSlope > 100) {\n    throw is.invalidParameterError('maxSlope', 'integer 0-100', options.maxSlope);\n  } else {\n    this.options.claheMaxSlope = options.maxSlope;\n  }\n  return this;\n}\n\n/**\n * Convolve the image with the specified kernel.\n *\n * @example\n * sharp(input)\n *   .convolve({\n *     width: 3,\n *     height: 3,\n *     kernel: [-1, 0, 1, -2, 0, 2, -1, 0, 1]\n *   })\n *   .raw()\n *   .toBuffer(function(err, data, info) {\n *     // data contains the raw pixel data representing the convolution\n *     // of the input image with the horizontal Sobel operator\n *   });\n *\n * @param {Object} kernel\n * @param {number} kernel.width - width of the kernel in pixels.\n * @param {number} kernel.height - height of the kernel in pixels.\n * @param {Array<number>} kernel.kernel - Array of length `width*height` containing the kernel values.\n * @param {number} [kernel.scale=sum] - the scale of the kernel in pixels.\n * @param {number} [kernel.offset=0] - the offset of the kernel in pixels.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction convolve (kernel) {\n  if (!is.object(kernel) || !Array.isArray(kernel.kernel) ||\n      !is.integer(kernel.width) || !is.integer(kernel.height) ||\n      !is.inRange(kernel.width, 3, 1001) || !is.inRange(kernel.height, 3, 1001) ||\n      kernel.height * kernel.width !== kernel.kernel.length\n  ) {\n    // must pass in a kernel\n    throw new Error('Invalid convolution kernel');\n  }\n  // Default scale is sum of kernel values\n  if (!is.integer(kernel.scale)) {\n    kernel.scale = kernel.kernel.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n  }\n  // Clip scale to a minimum value of 1\n  if (kernel.scale < 1) {\n    kernel.scale = 1;\n  }\n  if (!is.integer(kernel.offset)) {\n    kernel.offset = 0;\n  }\n  this.options.convKernel = kernel;\n  return this;\n}\n\n/**\n * Any pixel value greater than or equal to the threshold value will be set to 255, otherwise it will be set to 0.\n * @param {number} [threshold=128] - a value in the range 0-255 representing the level at which the threshold will be applied.\n * @param {Object} [options]\n * @param {Boolean} [options.greyscale=true] - convert to single channel greyscale.\n * @param {Boolean} [options.grayscale=true] - alternative spelling for greyscale.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction threshold (threshold, options) {\n  if (!is.defined(threshold)) {\n    this.options.threshold = 128;\n  } else if (is.bool(threshold)) {\n    this.options.threshold = threshold ? 128 : 0;\n  } else if (is.integer(threshold) && is.inRange(threshold, 0, 255)) {\n    this.options.threshold = threshold;\n  } else {\n    throw is.invalidParameterError('threshold', 'integer between 0 and 255', threshold);\n  }\n  if (!is.object(options) || options.greyscale === true || options.grayscale === true) {\n    this.options.thresholdGrayscale = true;\n  } else {\n    this.options.thresholdGrayscale = false;\n  }\n  return this;\n}\n\n/**\n * Perform a bitwise boolean operation with operand image.\n *\n * This operation creates an output image where each pixel is the result of\n * the selected bitwise boolean `operation` between the corresponding pixels of the input images.\n *\n * @param {Buffer|string} operand - Buffer containing image data or string containing the path to an image file.\n * @param {string} operator - one of `and`, `or` or `eor` to perform that bitwise operation, like the C logic operators `&`, `|` and `^` respectively.\n * @param {Object} [options]\n * @param {Object} [options.raw] - describes operand when using raw pixel data.\n * @param {number} [options.raw.width]\n * @param {number} [options.raw.height]\n * @param {number} [options.raw.channels]\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction boolean (operand, operator, options) {\n  this.options.boolean = this._createInputDescriptor(operand, options);\n  if (is.string(operator) && is.inArray(operator, ['and', 'or', 'eor'])) {\n    this.options.booleanOp = operator;\n  } else {\n    throw is.invalidParameterError('operator', 'one of: and, or, eor', operator);\n  }\n  return this;\n}\n\n/**\n * Apply the linear formula a * input + b to the image (levels adjustment)\n * @param {number} [a=1.0] multiplier\n * @param {number} [b=0.0] offset\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction linear (a, b) {\n  if (!is.defined(a)) {\n    this.options.linearA = 1.0;\n  } else if (is.number(a)) {\n    this.options.linearA = a;\n  } else {\n    throw is.invalidParameterError('a', 'numeric', a);\n  }\n  if (!is.defined(b)) {\n    this.options.linearB = 0.0;\n  } else if (is.number(b)) {\n    this.options.linearB = b;\n  } else {\n    throw is.invalidParameterError('b', 'numeric', b);\n  }\n  return this;\n}\n\n/**\n * Recomb the image with the specified matrix.\n *\n * @since 0.21.1\n *\n * @example\n * sharp(input)\n *   .recomb([\n *    [0.3588, 0.7044, 0.1368],\n *    [0.2990, 0.5870, 0.1140],\n *    [0.2392, 0.4696, 0.0912],\n *   ])\n *   .raw()\n *   .toBuffer(function(err, data, info) {\n *     // data contains the raw pixel data after applying the recomb\n *     // With this example input, a sepia filter has been applied\n *   });\n *\n * @param {Array<Array<number>>} inputMatrix - 3x3 Recombination matrix\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction recomb (inputMatrix) {\n  if (!Array.isArray(inputMatrix) || inputMatrix.length !== 3 ||\n      inputMatrix[0].length !== 3 ||\n      inputMatrix[1].length !== 3 ||\n      inputMatrix[2].length !== 3\n  ) {\n    // must pass in a kernel\n    throw new Error('Invalid recombination matrix');\n  }\n  this.options.recombMatrix = [\n    inputMatrix[0][0], inputMatrix[0][1], inputMatrix[0][2],\n    inputMatrix[1][0], inputMatrix[1][1], inputMatrix[1][2],\n    inputMatrix[2][0], inputMatrix[2][1], inputMatrix[2][2]\n  ].map(Number);\n  return this;\n}\n\n/**\n * Transforms the image using brightness, saturation, hue rotation, and lightness.\n * Brightness and lightness both operate on luminance, with the difference being that\n * brightness is multiplicative whereas lightness is additive.\n *\n * @since 0.22.1\n *\n * @example\n * sharp(input)\n *   .modulate({\n *     brightness: 2 // increase brightness by a factor of 2\n *   });\n *\n * sharp(input)\n *   .modulate({\n *     hue: 180 // hue-rotate by 180 degrees\n *   });\n *\n * sharp(input)\n *   .modulate({\n *     lightness: 50 // increase lightness by +50\n *   });\n *\n * // decreate brightness and saturation while also hue-rotating by 90 degrees\n * sharp(input)\n *   .modulate({\n *     brightness: 0.5,\n *     saturation: 0.5,\n *     hue: 90\n *   });\n *\n * @param {Object} [options]\n * @param {number} [options.brightness] Brightness multiplier\n * @param {number} [options.saturation] Saturation multiplier\n * @param {number} [options.hue] Degrees for hue rotation\n * @param {number} [options.lightness] Lightness addend\n * @returns {Sharp}\n */\nfunction modulate (options) {\n  if (!is.plainObject(options)) {\n    throw is.invalidParameterError('options', 'plain object', options);\n  }\n  if ('brightness' in options) {\n    if (is.number(options.brightness) && options.brightness >= 0) {\n      this.options.brightness = options.brightness;\n    } else {\n      throw is.invalidParameterError('brightness', 'number above zero', options.brightness);\n    }\n  }\n  if ('saturation' in options) {\n    if (is.number(options.saturation) && options.saturation >= 0) {\n      this.options.saturation = options.saturation;\n    } else {\n      throw is.invalidParameterError('saturation', 'number above zero', options.saturation);\n    }\n  }\n  if ('hue' in options) {\n    if (is.integer(options.hue)) {\n      this.options.hue = options.hue % 360;\n    } else {\n      throw is.invalidParameterError('hue', 'number', options.hue);\n    }\n  }\n  if ('lightness' in options) {\n    if (is.number(options.lightness)) {\n      this.options.lightness = options.lightness;\n    } else {\n      throw is.invalidParameterError('lightness', 'number', options.lightness);\n    }\n  }\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with operation-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    rotate,\n    flip,\n    flop,\n    affine,\n    sharpen,\n    median,\n    blur,\n    flatten,\n    gamma,\n    negate,\n    normalise,\n    normalize,\n    clahe,\n    convolve,\n    threshold,\n    boolean,\n    linear,\n    recomb,\n    modulate\n  });\n};\n", "'use strict';\n\nconst color = require('color');\nconst is = require('./is');\n\n/**\n * Colourspaces.\n * @private\n */\nconst colourspace = {\n  multiband: 'multiband',\n  'b-w': 'b-w',\n  bw: 'b-w',\n  cmyk: 'cmyk',\n  srgb: 'srgb'\n};\n\n/**\n * Tint the image using the provided chroma while preserving the image luminance.\n * An alpha channel may be present and will be unchanged by the operation.\n *\n * @param {string|Object} rgb - parsed by the [color](https://www.npmjs.org/package/color) module to extract chroma values.\n * @returns {Sharp}\n * @throws {Error} Invalid parameter\n */\nfunction tint (rgb) {\n  const colour = color(rgb);\n  this.options.tintA = colour.a();\n  this.options.tintB = colour.b();\n  return this;\n}\n\n/**\n * Convert to 8-bit greyscale; 256 shades of grey.\n * This is a linear operation. If the input image is in a non-linear colour space such as sRGB, use `gamma()` with `greyscale()` for the best results.\n * By default the output image will be web-friendly sRGB and contain three (identical) color channels.\n * This may be overridden by other sharp operations such as `toColourspace('b-w')`,\n * which will produce an output image containing one color channel.\n * An alpha channel may be present, and will be unchanged by the operation.\n * @param {Boolean} [greyscale=true]\n * @returns {Sharp}\n */\nfunction greyscale (greyscale) {\n  this.options.greyscale = is.bool(greyscale) ? greyscale : true;\n  return this;\n}\n\n/**\n * Alternative spelling of `greyscale`.\n * @param {Boolean} [grayscale=true]\n * @returns {Sharp}\n */\nfunction grayscale (grayscale) {\n  return this.greyscale(grayscale);\n}\n\n/**\n * Set the pipeline colourspace.\n *\n * The input image will be converted to the provided colourspace at the start of the pipeline.\n * All operations will use this colourspace before converting to the output colourspace, as defined by {@link toColourspace}.\n *\n * This feature is experimental and has not yet been fully-tested with all operations.\n *\n * @since 0.29.0\n *\n * @example\n * // Run pipeline in 16 bits per channel RGB while converting final result to 8 bits per channel sRGB.\n * await sharp(input)\n *  .pipelineColourspace('rgb16')\n *  .toColourspace('srgb')\n *  .toFile('16bpc-pipeline-to-8bpc-output.png')\n *\n * @param {string} [colourspace] - pipeline colourspace e.g. `rgb16`, `scrgb`, `lab`, `grey16` [...](https://github.com/libvips/libvips/blob/41cff4e9d0838498487a00623462204eb10ee5b8/libvips/iofuncs/enumtypes.c#L774)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction pipelineColourspace (colourspace) {\n  if (!is.string(colourspace)) {\n    throw is.invalidParameterError('colourspace', 'string', colourspace);\n  }\n  this.options.colourspaceInput = colourspace;\n  return this;\n}\n\n/**\n * Alternative spelling of `pipelineColourspace`.\n * @param {string} [colorspace] - pipeline colorspace.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction pipelineColorspace (colorspace) {\n  return this.pipelineColourspace(colorspace);\n}\n\n/**\n * Set the output colourspace.\n * By default output image will be web-friendly sRGB, with additional channels interpreted as alpha channels.\n *\n * @example\n * // Output 16 bits per pixel RGB\n * await sharp(input)\n *  .toColourspace('rgb16')\n *  .toFile('16-bpp.png')\n *\n * @param {string} [colourspace] - output colourspace e.g. `srgb`, `rgb`, `cmyk`, `lab`, `b-w` [...](https://github.com/libvips/libvips/blob/3c0bfdf74ce1dc37a6429bed47fa76f16e2cd70a/libvips/iofuncs/enumtypes.c#L777-L794)\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction toColourspace (colourspace) {\n  if (!is.string(colourspace)) {\n    throw is.invalidParameterError('colourspace', 'string', colourspace);\n  }\n  this.options.colourspace = colourspace;\n  return this;\n}\n\n/**\n * Alternative spelling of `toColourspace`.\n * @param {string} [colorspace] - output colorspace.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction toColorspace (colorspace) {\n  return this.toColourspace(colorspace);\n}\n\n/**\n * Update a colour attribute of the this.options Object.\n * @private\n * @param {string} key\n * @param {string|Object} value\n * @throws {Error} Invalid value\n */\nfunction _setBackgroundColourOption (key, value) {\n  if (is.defined(value)) {\n    if (is.object(value) || is.string(value)) {\n      const colour = color(value);\n      this.options[key] = [\n        colour.red(),\n        colour.green(),\n        colour.blue(),\n        Math.round(colour.alpha() * 255)\n      ];\n    } else {\n      throw is.invalidParameterError('background', 'object or string', value);\n    }\n  }\n}\n\n/**\n * Decorate the Sharp prototype with colour-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public\n    tint,\n    greyscale,\n    grayscale,\n    pipelineColourspace,\n    pipelineColorspace,\n    toColourspace,\n    toColorspace,\n    // Private\n    _setBackgroundColourOption\n  });\n  // Class attributes\n  Sharp.colourspace = colourspace;\n  Sharp.colorspace = colourspace;\n};\n", "'use strict';\n\nconst is = require('./is');\n\n/**\n * Boolean operations for bandbool.\n * @private\n */\nconst bool = {\n  and: 'and',\n  or: 'or',\n  eor: 'eor'\n};\n\n/**\n * Remove alpha channel, if any. This is a no-op if the image does not have an alpha channel.\n *\n * See also {@link /api-operation#flatten|flatten}.\n *\n * @example\n * sharp('rgba.png')\n *   .removeAlpha()\n *   .toFile('rgb.png', function(err, info) {\n *     // rgb.png is a 3 channel image without an alpha channel\n *   });\n *\n * @returns {Sharp}\n */\nfunction removeAlpha () {\n  this.options.removeAlpha = true;\n  return this;\n}\n\n/**\n * Ensure the output image has an alpha transparency channel.\n * If missing, the added alpha channel will have the specified\n * transparency level, defaulting to fully-opaque (1).\n * This is a no-op if the image already has an alpha channel.\n *\n * @since 0.21.2\n *\n * @example\n * // rgba.png will be a 4 channel image with a fully-opaque alpha channel\n * await sharp('rgb.jpg')\n *   .ensureAlpha()\n *   .toFile('rgba.png')\n *\n * @example\n * // rgba is a 4 channel image with a fully-transparent alpha channel\n * const rgba = await sharp(rgb)\n *   .ensureAlpha(0)\n *   .toBuffer();\n *\n * @param {number} [alpha=1] - alpha transparency level (0=fully-transparent, 1=fully-opaque)\n * @returns {Sharp}\n * @throws {Error} Invalid alpha transparency level\n */\nfunction ensureAlpha (alpha) {\n  if (is.defined(alpha)) {\n    if (is.number(alpha) && is.inRange(alpha, 0, 1)) {\n      this.options.ensureAlpha = alpha;\n    } else {\n      throw is.invalidParameterError('alpha', 'number between 0 and 1', alpha);\n    }\n  } else {\n    this.options.ensureAlpha = 1;\n  }\n  return this;\n}\n\n/**\n * Extract a single channel from a multi-channel image.\n *\n * @example\n * // green.jpg is a greyscale image containing the green channel of the input\n * await sharp(input)\n *   .extractChannel('green')\n *   .toFile('green.jpg');\n *\n * @example\n * // red1 is the red value of the first pixel, red2 the second pixel etc.\n * const [red1, red2, ...] = await sharp(input)\n *   .extractChannel(0)\n *   .raw()\n *   .toBuffer();\n *\n * @param {number|string} channel - zero-indexed channel/band number to extract, or `red`, `green`, `blue` or `alpha`.\n * @returns {Sharp}\n * @throws {Error} Invalid channel\n */\nfunction extractChannel (channel) {\n  const channelMap = { red: 0, green: 1, blue: 2, alpha: 3 };\n  if (Object.keys(channelMap).includes(channel)) {\n    channel = channelMap[channel];\n  }\n  if (is.integer(channel) && is.inRange(channel, 0, 4)) {\n    this.options.extractChannel = channel;\n  } else {\n    throw is.invalidParameterError('channel', 'integer or one of: red, green, blue, alpha', channel);\n  }\n  return this.toColourspace('b-w');\n}\n\n/**\n * Join one or more channels to the image.\n * The meaning of the added channels depends on the output colourspace, set with `toColourspace()`.\n * By default the output image will be web-friendly sRGB, with additional channels interpreted as alpha channels.\n * Channel ordering follows vips convention:\n * - sRGB: 0: Red, 1: Green, 2: Blue, 3: Alpha.\n * - CMYK: 0: Magenta, 1: Cyan, 2: Yellow, 3: Black, 4: Alpha.\n *\n * Buffers may be any of the image formats supported by sharp.\n * For raw pixel input, the `options` object should contain a `raw` attribute, which follows the format of the attribute of the same name in the `sharp()` constructor.\n *\n * @param {Array<string|Buffer>|string|Buffer} images - one or more images (file paths, Buffers).\n * @param {Object} options - image options, see `sharp()` constructor.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction joinChannel (images, options) {\n  if (Array.isArray(images)) {\n    images.forEach(function (image) {\n      this.options.joinChannelIn.push(this._createInputDescriptor(image, options));\n    }, this);\n  } else {\n    this.options.joinChannelIn.push(this._createInputDescriptor(images, options));\n  }\n  return this;\n}\n\n/**\n * Perform a bitwise boolean operation on all input image channels (bands) to produce a single channel output image.\n *\n * @example\n * sharp('3-channel-rgb-input.png')\n *   .bandbool(sharp.bool.and)\n *   .toFile('1-channel-output.png', function (err, info) {\n *     // The output will be a single channel image where each pixel `P = R & G & B`.\n *     // If `I(1,1) = [247, 170, 14] = [0b11110111, 0b10101010, 0b00001111]`\n *     // then `O(1,1) = 0b11110111 & 0b10101010 & 0b00001111 = 0b00000010 = 2`.\n *   });\n *\n * @param {string} boolOp - one of `and`, `or` or `eor` to perform that bitwise operation, like the C logic operators `&`, `|` and `^` respectively.\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction bandbool (boolOp) {\n  if (is.string(boolOp) && is.inArray(boolOp, ['and', 'or', 'eor'])) {\n    this.options.bandBoolOp = boolOp;\n  } else {\n    throw is.invalidParameterError('boolOp', 'one of: and, or, eor', boolOp);\n  }\n  return this;\n}\n\n/**\n * Decorate the Sharp prototype with channel-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public instance functions\n    removeAlpha,\n    ensureAlpha,\n    extractChannel,\n    joinChannel,\n    bandbool\n  });\n  // Class attributes\n  Sharp.bool = bool;\n};\n", "'use strict';\n\nconst path = require('path');\nconst is = require('./is');\nconst sharp = require('./sharp');\n\nconst formats = new Map([\n  ['heic', 'heif'],\n  ['heif', 'heif'],\n  ['avif', 'avif'],\n  ['jpeg', 'jpeg'],\n  ['jpg', 'jpeg'],\n  ['png', 'png'],\n  ['raw', 'raw'],\n  ['tiff', 'tiff'],\n  ['tif', 'tiff'],\n  ['webp', 'webp'],\n  ['gif', 'gif'],\n  ['jp2', 'jp2'],\n  ['jpx', 'jp2'],\n  ['j2k', 'jp2'],\n  ['j2c', 'jp2']\n]);\n\nconst errMagickSave = new Error('GIF output requires libvips with support for ImageMagick');\nconst errJp2Save = new Error('JP2 output requires libvips with support for OpenJPEG');\n\n/**\n * Write output image data to a file.\n *\n * If an explicit output format is not selected, it will be inferred from the extension,\n * with JPEG, PNG, WebP, AVIF, TIFF, DZI, and libvips' V format supported.\n * Note that raw pixel data is only supported for buffer output.\n *\n * By default all metadata will be removed, which includes EXIF-based orientation.\n * See {@link withMetadata} for control over this.\n *\n * The caller is responsible for ensuring directory structures and permissions exist.\n *\n * A `Promise` is returned when `callback` is not provided.\n *\n * @example\n * sharp(input)\n *   .toFile('output.png', (err, info) => { ... });\n *\n * @example\n * sharp(input)\n *   .toFile('output.png')\n *   .then(info => { ... })\n *   .catch(err => { ... });\n *\n * @param {string} fileOut - the path to write the image data to.\n * @param {Function} [callback] - called on completion with two arguments `(err, info)`.\n * `info` contains the output image `format`, `size` (bytes), `width`, `height`,\n * `channels` and `premultiplied` (indicating if premultiplication was used).\n * When using a crop strategy also contains `cropOffsetLeft` and `cropOffsetTop`.\n * @returns {Promise<Object>} - when no callback is provided\n * @throws {Error} Invalid parameters\n */\nfunction toFile (fileOut, callback) {\n  let err;\n  if (!is.string(fileOut)) {\n    err = new Error('Missing output file path');\n  } else if (is.string(this.options.input.file) && path.resolve(this.options.input.file) === path.resolve(fileOut)) {\n    err = new Error('Cannot use same file for input and output');\n  } else if (this.options.formatOut === 'input' && fileOut.toLowerCase().endsWith('.gif') && !this.constructor.format.magick.output.file) {\n    err = errMagickSave;\n  }\n  if (err) {\n    if (is.fn(callback)) {\n      callback(err);\n    } else {\n      return Promise.reject(err);\n    }\n  } else {\n    this.options.fileOut = fileOut;\n    return this._pipeline(callback);\n  }\n  return this;\n}\n\n/**\n * Write output to a Buffer.\n * JPEG, PNG, WebP, AVIF, TIFF and raw pixel data output are supported.\n *\n * If no explicit format is set, the output format will match the input image, except GIF and SVG input which become PNG output.\n *\n * By default all metadata will be removed, which includes EXIF-based orientation.\n * See {@link withMetadata} for control over this.\n *\n * `callback`, if present, gets three arguments `(err, data, info)` where:\n * - `err` is an error, if any.\n * - `data` is the output image data.\n * - `info` contains the output image `format`, `size` (bytes), `width`, `height`,\n * `channels` and `premultiplied` (indicating if premultiplication was used).\n * When using a crop strategy also contains `cropOffsetLeft` and `cropOffsetTop`.\n *\n * A `Promise` is returned when `callback` is not provided.\n *\n * @example\n * sharp(input)\n *   .toBuffer((err, data, info) => { ... });\n *\n * @example\n * sharp(input)\n *   .toBuffer()\n *   .then(data => { ... })\n *   .catch(err => { ... });\n *\n * @example\n * sharp(input)\n *   .toBuffer({ resolveWithObject: true })\n *   .then(({ data, info }) => { ... })\n *   .catch(err => { ... });\n *\n * @example\n * const { data, info } = await sharp('my-image.jpg')\n *   // output the raw pixels\n *   .raw()\n *   .toBuffer({ resolveWithObject: true });\n *\n * // create a more type safe way to work with the raw pixel data\n * // this will not copy the data, instead it will change `data`s underlying ArrayBuffer\n * // so `data` and `pixelArray` point to the same memory location\n * const pixelArray = new Uint8ClampedArray(data.buffer);\n *\n * // When you are done changing the pixelArray, sharp takes the `pixelArray` as an input\n * const { width, height, channels } = info;\n * await sharp(pixelArray, { raw: { width, height, channels } })\n *   .toFile('my-changed-image.jpg');\n *\n * @param {Object} [options]\n * @param {boolean} [options.resolveWithObject] Resolve the Promise with an Object containing `data` and `info` properties instead of resolving only with `data`.\n * @param {Function} [callback]\n * @returns {Promise<Buffer>} - when no callback is provided\n */\nfunction toBuffer (options, callback) {\n  if (is.object(options)) {\n    this._setBooleanOption('resolveWithObject', options.resolveWithObject);\n  } else if (this.options.resolveWithObject) {\n    this.options.resolveWithObject = false;\n  }\n  return this._pipeline(is.fn(options) ? options : callback);\n}\n\n/**\n * Include all metadata (EXIF, XMP, IPTC) from the input image in the output image.\n * This will also convert to and add a web-friendly sRGB ICC profile unless a custom\n * output profile is provided.\n *\n * The default behaviour, when `withMetadata` is not used, is to convert to the device-independent\n * sRGB colour space and strip all metadata, including the removal of any ICC profile.\n *\n * @example\n * sharp('input.jpg')\n *   .withMetadata()\n *   .toFile('output-with-metadata.jpg')\n *   .then(info => { ... });\n *\n * @example\n * // Set \"IFD0-Copyright\" in output EXIF metadata\n * const data = await sharp(input)\n *   .withMetadata({\n *     exif: {\n *       IFD0: {\n *         Copyright: 'Wernham Hogg'\n *       }\n *     }\n *   })\n *   .toBuffer();\n *\n *  * @example\n * // Set output metadata to 96 DPI\n * const data = await sharp(input)\n *   .withMetadata({ density: 96 })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {number} [options.orientation] value between 1 and 8, used to update the EXIF `Orientation` tag.\n * @param {string} [options.icc] filesystem path to output ICC profile, defaults to sRGB.\n * @param {Object<Object>} [options.exif={}] Object keyed by IFD0, IFD1 etc. of key/value string pairs to write as EXIF data.\n * @param {number} [options.density] Number of pixels per inch (DPI).\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction withMetadata (options) {\n  this.options.withMetadata = is.bool(options) ? options : true;\n  if (is.object(options)) {\n    if (is.defined(options.orientation)) {\n      if (is.integer(options.orientation) && is.inRange(options.orientation, 1, 8)) {\n        this.options.withMetadataOrientation = options.orientation;\n      } else {\n        throw is.invalidParameterError('orientation', 'integer between 1 and 8', options.orientation);\n      }\n    }\n    if (is.defined(options.density)) {\n      if (is.number(options.density) && options.density > 0) {\n        this.options.withMetadataDensity = options.density;\n      } else {\n        throw is.invalidParameterError('density', 'positive number', options.density);\n      }\n    }\n    if (is.defined(options.icc)) {\n      if (is.string(options.icc)) {\n        this.options.withMetadataIcc = options.icc;\n      } else {\n        throw is.invalidParameterError('icc', 'string filesystem path to ICC profile', options.icc);\n      }\n    }\n    if (is.defined(options.exif)) {\n      if (is.object(options.exif)) {\n        for (const [ifd, entries] of Object.entries(options.exif)) {\n          if (is.object(entries)) {\n            for (const [k, v] of Object.entries(entries)) {\n              if (is.string(v)) {\n                this.options.withMetadataStrs[`exif-${ifd.toLowerCase()}-${k}`] = v;\n              } else {\n                throw is.invalidParameterError(`exif.${ifd}.${k}`, 'string', v);\n              }\n            }\n          } else {\n            throw is.invalidParameterError(`exif.${ifd}`, 'object', entries);\n          }\n        }\n      } else {\n        throw is.invalidParameterError('exif', 'object', options.exif);\n      }\n    }\n  }\n  return this;\n}\n\n/**\n * Force output to a given format.\n *\n * @example\n * // Convert any input to PNG output\n * const data = await sharp(input)\n *   .toFormat('png')\n *   .toBuffer();\n *\n * @param {(string|Object)} format - as a string or an Object with an 'id' attribute\n * @param {Object} options - output options\n * @returns {Sharp}\n * @throws {Error} unsupported format or options\n */\nfunction toFormat (format, options) {\n  const actualFormat = formats.get((is.object(format) && is.string(format.id) ? format.id : format).toLowerCase());\n  if (!actualFormat) {\n    throw is.invalidParameterError('format', `one of: ${[...formats.keys()].join(', ')}`, format);\n  }\n  return this[actualFormat](options);\n}\n\n/**\n * Use these JPEG options for output image.\n *\n * @example\n * // Convert any input to very high quality JPEG output\n * const data = await sharp(input)\n *   .jpeg({\n *     quality: 100,\n *     chromaSubsampling: '4:4:4'\n *   })\n *   .toBuffer();\n *\n * @example\n * // Use mozjpeg to reduce output JPEG file size (slower)\n * const data = await sharp(input)\n *   .jpeg({ mozjpeg: true })\n *   .toBuffer();\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {boolean} [options.progressive=false] - use progressive (interlace) scan\n * @param {string} [options.chromaSubsampling='4:2:0'] - set to '4:4:4' to prevent chroma subsampling otherwise defaults to '4:2:0' chroma subsampling\n * @param {boolean} [options.optimiseCoding=true] - optimise Huffman coding tables\n * @param {boolean} [options.optimizeCoding=true] - alternative spelling of optimiseCoding\n * @param {boolean} [options.mozjpeg=false] - use mozjpeg defaults, equivalent to `{ trellisQuantisation: true, overshootDeringing: true, optimiseScans: true, quantisationTable: 3 }`\n * @param {boolean} [options.trellisQuantisation=false] - apply trellis quantisation\n * @param {boolean} [options.overshootDeringing=false] - apply overshoot deringing\n * @param {boolean} [options.optimiseScans=false] - optimise progressive scans, forces progressive\n * @param {boolean} [options.optimizeScans=false] - alternative spelling of optimiseScans\n * @param {number} [options.quantisationTable=0] - quantization table to use, integer 0-8\n * @param {number} [options.quantizationTable=0] - alternative spelling of quantisationTable\n * @param {boolean} [options.force=true] - force JPEG output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction jpeg (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.jpegQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.progressive)) {\n      this._setBooleanOption('jpegProgressive', options.progressive);\n    }\n    if (is.defined(options.chromaSubsampling)) {\n      if (is.string(options.chromaSubsampling) && is.inArray(options.chromaSubsampling, ['4:2:0', '4:4:4'])) {\n        this.options.jpegChromaSubsampling = options.chromaSubsampling;\n      } else {\n        throw is.invalidParameterError('chromaSubsampling', 'one of: 4:2:0, 4:4:4', options.chromaSubsampling);\n      }\n    }\n    const optimiseCoding = is.bool(options.optimizeCoding) ? options.optimizeCoding : options.optimiseCoding;\n    if (is.defined(optimiseCoding)) {\n      this._setBooleanOption('jpegOptimiseCoding', optimiseCoding);\n    }\n    if (is.defined(options.mozjpeg)) {\n      if (is.bool(options.mozjpeg)) {\n        if (options.mozjpeg) {\n          this.options.jpegTrellisQuantisation = true;\n          this.options.jpegOvershootDeringing = true;\n          this.options.jpegOptimiseScans = true;\n          this.options.jpegProgressive = true;\n          this.options.jpegQuantisationTable = 3;\n        }\n      } else {\n        throw is.invalidParameterError('mozjpeg', 'boolean', options.mozjpeg);\n      }\n    }\n    const trellisQuantisation = is.bool(options.trellisQuantization) ? options.trellisQuantization : options.trellisQuantisation;\n    if (is.defined(trellisQuantisation)) {\n      this._setBooleanOption('jpegTrellisQuantisation', trellisQuantisation);\n    }\n    if (is.defined(options.overshootDeringing)) {\n      this._setBooleanOption('jpegOvershootDeringing', options.overshootDeringing);\n    }\n    const optimiseScans = is.bool(options.optimizeScans) ? options.optimizeScans : options.optimiseScans;\n    if (is.defined(optimiseScans)) {\n      this._setBooleanOption('jpegOptimiseScans', optimiseScans);\n      if (optimiseScans) {\n        this.options.jpegProgressive = true;\n      }\n    }\n    const quantisationTable = is.number(options.quantizationTable) ? options.quantizationTable : options.quantisationTable;\n    if (is.defined(quantisationTable)) {\n      if (is.integer(quantisationTable) && is.inRange(quantisationTable, 0, 8)) {\n        this.options.jpegQuantisationTable = quantisationTable;\n      } else {\n        throw is.invalidParameterError('quantisationTable', 'integer between 0 and 8', quantisationTable);\n      }\n    }\n  }\n  return this._updateFormatOut('jpeg', options);\n}\n\n/**\n * Use these PNG options for output image.\n *\n * By default, PNG output is full colour at 8 or 16 bits per pixel.\n * Indexed PNG input at 1, 2 or 4 bits per pixel is converted to 8 bits per pixel.\n * Set `palette` to `true` for slower, indexed PNG output.\n *\n * @example\n * // Convert any input to full colour PNG output\n * const data = await sharp(input)\n *   .png()\n *   .toBuffer();\n *\n * @example\n * // Convert any input to indexed PNG output (slower)\n * const data = await sharp(input)\n *   .png({ palette: true })\n *   .toBuffer();\n *\n * @param {Object} [options]\n * @param {boolean} [options.progressive=false] - use progressive (interlace) scan\n * @param {number} [options.compressionLevel=6] - zlib compression level, 0 (fastest, largest) to 9 (slowest, smallest)\n * @param {boolean} [options.adaptiveFiltering=false] - use adaptive row filtering\n * @param {boolean} [options.palette=false] - quantise to a palette-based image with alpha transparency support\n * @param {number} [options.quality=100] - use the lowest number of colours needed to achieve given quality, sets `palette` to `true`\n * @param {number} [options.colours=256] - maximum number of palette entries, sets `palette` to `true`\n * @param {number} [options.colors=256] - alternative spelling of `options.colours`, sets `palette` to `true`\n * @param {number} [options.dither=1.0] - level of Floyd-Steinberg error diffusion, sets `palette` to `true`\n * @param {boolean} [options.force=true] - force PNG output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction png (options) {\n  if (is.object(options)) {\n    if (is.defined(options.progressive)) {\n      this._setBooleanOption('pngProgressive', options.progressive);\n    }\n    if (is.defined(options.compressionLevel)) {\n      if (is.integer(options.compressionLevel) && is.inRange(options.compressionLevel, 0, 9)) {\n        this.options.pngCompressionLevel = options.compressionLevel;\n      } else {\n        throw is.invalidParameterError('compressionLevel', 'integer between 0 and 9', options.compressionLevel);\n      }\n    }\n    if (is.defined(options.adaptiveFiltering)) {\n      this._setBooleanOption('pngAdaptiveFiltering', options.adaptiveFiltering);\n    }\n    if (is.defined(options.palette)) {\n      this._setBooleanOption('pngPalette', options.palette);\n    } else if (is.defined(options.quality) || is.defined(options.colours || options.colors) || is.defined(options.dither)) {\n      this._setBooleanOption('pngPalette', true);\n    }\n    if (this.options.pngPalette) {\n      if (is.defined(options.quality)) {\n        if (is.integer(options.quality) && is.inRange(options.quality, 0, 100)) {\n          this.options.pngQuality = options.quality;\n        } else {\n          throw is.invalidParameterError('quality', 'integer between 0 and 100', options.quality);\n        }\n      }\n      const colours = options.colours || options.colors;\n      if (is.defined(colours)) {\n        if (is.integer(colours) && is.inRange(colours, 2, 256)) {\n          this.options.pngBitdepth = 1 << 31 - Math.clz32(Math.ceil(Math.log2(colours)));\n        } else {\n          throw is.invalidParameterError('colours', 'integer between 2 and 256', colours);\n        }\n      }\n      if (is.defined(options.dither)) {\n        if (is.number(options.dither) && is.inRange(options.dither, 0, 1)) {\n          this.options.pngDither = options.dither;\n        } else {\n          throw is.invalidParameterError('dither', 'number between 0.0 and 1.0', options.dither);\n        }\n      }\n    }\n  }\n  return this._updateFormatOut('png', options);\n}\n\n/**\n * Use these WebP options for output image.\n *\n * @example\n * // Convert any input to lossless WebP output\n * const data = await sharp(input)\n *   .webp({ lossless: true })\n *   .toBuffer();\n *\n * @example\n * // Optimise the file size of an animated WebP\n * const outputWebp = await sharp(inputWebp, { animated: true })\n *   .webp({ reductionEffort: 6 })\n *   .toBuffer();\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {number} [options.alphaQuality=100] - quality of alpha layer, integer 0-100\n * @param {boolean} [options.lossless=false] - use lossless compression mode\n * @param {boolean} [options.nearLossless=false] - use near_lossless compression mode\n * @param {boolean} [options.smartSubsample=false] - use high quality chroma subsampling\n * @param {number} [options.reductionEffort=4] - level of CPU effort to reduce file size, integer 0-6\n * @param {number} [options.pageHeight] - page height for animated output\n * @param {number} [options.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number[]} [options.delay] - list of delays between animation frames (in milliseconds)\n * @param {boolean} [options.force=true] - force WebP output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction webp (options) {\n  if (is.object(options) && is.defined(options.quality)) {\n    if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n      this.options.webpQuality = options.quality;\n    } else {\n      throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n    }\n  }\n  if (is.object(options) && is.defined(options.alphaQuality)) {\n    if (is.integer(options.alphaQuality) && is.inRange(options.alphaQuality, 0, 100)) {\n      this.options.webpAlphaQuality = options.alphaQuality;\n    } else {\n      throw is.invalidParameterError('alphaQuality', 'integer between 0 and 100', options.alphaQuality);\n    }\n  }\n  if (is.object(options) && is.defined(options.lossless)) {\n    this._setBooleanOption('webpLossless', options.lossless);\n  }\n  if (is.object(options) && is.defined(options.nearLossless)) {\n    this._setBooleanOption('webpNearLossless', options.nearLossless);\n  }\n  if (is.object(options) && is.defined(options.smartSubsample)) {\n    this._setBooleanOption('webpSmartSubsample', options.smartSubsample);\n  }\n  if (is.object(options) && is.defined(options.reductionEffort)) {\n    if (is.integer(options.reductionEffort) && is.inRange(options.reductionEffort, 0, 6)) {\n      this.options.webpReductionEffort = options.reductionEffort;\n    } else {\n      throw is.invalidParameterError('reductionEffort', 'integer between 0 and 6', options.reductionEffort);\n    }\n  }\n\n  trySetAnimationOptions(options, this.options);\n  return this._updateFormatOut('webp', options);\n}\n\n/**\n * Use these GIF options for output image.\n *\n * Requires libvips compiled with support for ImageMagick or GraphicsMagick.\n * The prebuilt binaries do not include this - see\n * {@link https://sharp.pixelplumbing.com/install#custom-libvips installing a custom libvips}.\n *\n * @param {Object} [options] - output options\n * @param {number} [options.pageHeight] - page height for animated output\n * @param {number} [options.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number[]} [options.delay] - list of delays between animation frames (in milliseconds)\n * @param {boolean} [options.force=true] - force GIF output, otherwise attempt to use input format\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\n/* istanbul ignore next */\nfunction gif (options) {\n  if (!this.constructor.format.magick.output.buffer) {\n    throw errMagickSave;\n  }\n  trySetAnimationOptions(options, this.options);\n  return this._updateFormatOut('gif', options);\n}\n\n/**\n * Use these JP2 options for output image.\n *\n * Requires libvips compiled with support for OpenJPEG.\n * The prebuilt binaries do not include this - see\n * {@link https://sharp.pixelplumbing.com/install#custom-libvips installing a custom libvips}.\n *\n * @example\n * // Convert any input to lossless JP2 output\n * const data = await sharp(input)\n *   .jp2({ lossless: true })\n *   .toBuffer();\n *\n * @example\n * // Convert any input to very high quality JP2 output\n * const data = await sharp(input)\n *   .jp2({\n *     quality: 100,\n *     chromaSubsampling: '4:4:4'\n *   })\n *   .toBuffer();\n *\n * @since 0.29.1\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {boolean} [options.lossless=false] - use lossless compression mode\n * @param {number} [options.tileWidth=512] - horizontal tile size\n * @param {number} [options.tileHeight=512] - vertical tile size\n * @param {string} [options.chromaSubsampling='4:4:4'] - set to '4:2:0' to use chroma subsampling\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\n/* istanbul ignore next */\nfunction jp2 (options) {\n  if (!this.constructor.format.jp2k.output.buffer) {\n    throw errJp2Save;\n  }\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.jp2Quality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.lossless)) {\n      if (is.bool(options.lossless)) {\n        this.options.jp2Lossless = options.lossless;\n      } else {\n        throw is.invalidParameterError('lossless', 'boolean', options.lossless);\n      }\n    }\n    if (is.defined(options.tileWidth)) {\n      if (is.integer(options.tileWidth) && is.inRange(options.tileWidth, 1, 32768)) {\n        this.options.jp2TileWidth = options.tileWidth;\n      } else {\n        throw is.invalidParameterError('tileWidth', 'integer between 1 and 32768', options.tileWidth);\n      }\n    }\n    if (is.defined(options.tileHeight)) {\n      if (is.integer(options.tileHeight) && is.inRange(options.tileHeight, 1, 32768)) {\n        this.options.jp2TileHeight = options.tileHeight;\n      } else {\n        throw is.invalidParameterError('tileHeight', 'integer between 1 and 32768', options.tileHeight);\n      }\n    }\n    if (is.defined(options.chromaSubsampling)) {\n      if (is.string(options.chromaSubsampling) && is.inArray(options.chromaSubsampling, ['4:2:0', '4:4:4'])) {\n        this.options.heifChromaSubsampling = options.chromaSubsampling;\n      } else {\n        throw is.invalidParameterError('chromaSubsampling', 'one of: 4:2:0, 4:4:4', options.chromaSubsampling);\n      }\n    }\n  }\n  return this._updateFormatOut('jp2', options);\n}\n\n/**\n * Set animation options if available.\n * @private\n *\n * @param {Object} [source] - output options\n * @param {number} [source.pageHeight] - page height for animated output\n * @param {number} [source.loop=0] - number of animation iterations, use 0 for infinite animation\n * @param {number[]} [source.delay] - list of delays between animation frames (in milliseconds)\n * @param {Object} [target] - target object for valid options\n * @throws {Error} Invalid options\n */\nfunction trySetAnimationOptions (source, target) {\n  if (is.object(source) && is.defined(source.pageHeight)) {\n    if (is.integer(source.pageHeight) && source.pageHeight > 0) {\n      target.pageHeight = source.pageHeight;\n    } else {\n      throw is.invalidParameterError('pageHeight', 'integer larger than 0', source.pageHeight);\n    }\n  }\n  if (is.object(source) && is.defined(source.loop)) {\n    if (is.integer(source.loop) && is.inRange(source.loop, 0, 65535)) {\n      target.loop = source.loop;\n    } else {\n      throw is.invalidParameterError('loop', 'integer between 0 and 65535', source.loop);\n    }\n  }\n  if (is.object(source) && is.defined(source.delay)) {\n    if (\n      Array.isArray(source.delay) &&\n      source.delay.every(is.integer) &&\n      source.delay.every(v => is.inRange(v, 0, 65535))) {\n      target.delay = source.delay;\n    } else {\n      throw is.invalidParameterError('delay', 'array of integers between 0 and 65535', source.delay);\n    }\n  }\n}\n\n/**\n * Use these TIFF options for output image.\n *\n * @example\n * // Convert SVG input to LZW-compressed, 1 bit per pixel TIFF output\n * sharp('input.svg')\n *   .tiff({\n *     compression: 'lzw',\n *     bitdepth: 1\n *   })\n *   .toFile('1-bpp-output.tiff')\n *   .then(info => { ... });\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=80] - quality, integer 1-100\n * @param {boolean} [options.force=true] - force TIFF output, otherwise attempt to use input format\n * @param {string} [options.compression='jpeg'] - compression options: lzw, deflate, jpeg, ccittfax4\n * @param {string} [options.predictor='horizontal'] - compression predictor options: none, horizontal, float\n * @param {boolean} [options.pyramid=false] - write an image pyramid\n * @param {boolean} [options.tile=false] - write a tiled tiff\n * @param {number} [options.tileWidth=256] - horizontal tile size\n * @param {number} [options.tileHeight=256] - vertical tile size\n * @param {number} [options.xres=1.0] - horizontal resolution in pixels/mm\n * @param {number} [options.yres=1.0] - vertical resolution in pixels/mm\n * @param {number} [options.bitdepth=8] - reduce bitdepth to 1, 2 or 4 bit\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction tiff (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.tiffQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.bitdepth)) {\n      if (is.integer(options.bitdepth) && is.inArray(options.bitdepth, [1, 2, 4, 8])) {\n        this.options.tiffBitdepth = options.bitdepth;\n      } else {\n        throw is.invalidParameterError('bitdepth', '1, 2, 4 or 8', options.bitdepth);\n      }\n    }\n    // tiling\n    if (is.defined(options.tile)) {\n      this._setBooleanOption('tiffTile', options.tile);\n    }\n    if (is.defined(options.tileWidth)) {\n      if (is.integer(options.tileWidth) && options.tileWidth > 0) {\n        this.options.tiffTileWidth = options.tileWidth;\n      } else {\n        throw is.invalidParameterError('tileWidth', 'integer greater than zero', options.tileWidth);\n      }\n    }\n    if (is.defined(options.tileHeight)) {\n      if (is.integer(options.tileHeight) && options.tileHeight > 0) {\n        this.options.tiffTileHeight = options.tileHeight;\n      } else {\n        throw is.invalidParameterError('tileHeight', 'integer greater than zero', options.tileHeight);\n      }\n    }\n    // pyramid\n    if (is.defined(options.pyramid)) {\n      this._setBooleanOption('tiffPyramid', options.pyramid);\n    }\n    // resolution\n    if (is.defined(options.xres)) {\n      if (is.number(options.xres) && options.xres > 0) {\n        this.options.tiffXres = options.xres;\n      } else {\n        throw is.invalidParameterError('xres', 'number greater than zero', options.xres);\n      }\n    }\n    if (is.defined(options.yres)) {\n      if (is.number(options.yres) && options.yres > 0) {\n        this.options.tiffYres = options.yres;\n      } else {\n        throw is.invalidParameterError('yres', 'number greater than zero', options.yres);\n      }\n    }\n    // compression\n    if (is.defined(options.compression)) {\n      if (is.string(options.compression) && is.inArray(options.compression, ['lzw', 'deflate', 'jpeg', 'ccittfax4', 'none'])) {\n        this.options.tiffCompression = options.compression;\n      } else {\n        throw is.invalidParameterError('compression', 'one of: lzw, deflate, jpeg, ccittfax4, none', options.compression);\n      }\n    }\n    // predictor\n    if (is.defined(options.predictor)) {\n      if (is.string(options.predictor) && is.inArray(options.predictor, ['none', 'horizontal', 'float'])) {\n        this.options.tiffPredictor = options.predictor;\n      } else {\n        throw is.invalidParameterError('predictor', 'one of: none, horizontal, float', options.predictor);\n      }\n    }\n  }\n  return this._updateFormatOut('tiff', options);\n}\n\n/**\n * Use these AVIF options for output image.\n *\n * Whilst it is possible to create AVIF images smaller than 16x16 pixels,\n * most web browsers do not display these properly.\n *\n * AVIF image sequences are not supported.\n *\n * @since 0.27.0\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=50] - quality, integer 1-100\n * @param {boolean} [options.lossless=false] - use lossless compression\n * @param {number} [options.speed=5] - CPU effort vs file size, 0 (slowest/smallest) to 9 (fastest/largest)\n * @param {string} [options.chromaSubsampling='4:4:4'] - set to '4:2:0' to use chroma subsampling\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction avif (options) {\n  return this.heif({ ...options, compression: 'av1' });\n}\n\n/**\n * Use these HEIF options for output image.\n *\n * Support for patent-encumbered HEIC images requires the use of a\n * globally-installed libvips compiled with support for libheif, libde265 and x265.\n *\n * @since 0.23.0\n *\n * @param {Object} [options] - output options\n * @param {number} [options.quality=50] - quality, integer 1-100\n * @param {string} [options.compression='av1'] - compression format: av1, hevc\n * @param {boolean} [options.lossless=false] - use lossless compression\n * @param {number} [options.speed=5] - CPU effort vs file size, 0 (slowest/smallest) to 9 (fastest/largest)\n * @param {string} [options.chromaSubsampling='4:4:4'] - set to '4:2:0' to use chroma subsampling\n * @returns {Sharp}\n * @throws {Error} Invalid options\n */\nfunction heif (options) {\n  if (is.object(options)) {\n    if (is.defined(options.quality)) {\n      if (is.integer(options.quality) && is.inRange(options.quality, 1, 100)) {\n        this.options.heifQuality = options.quality;\n      } else {\n        throw is.invalidParameterError('quality', 'integer between 1 and 100', options.quality);\n      }\n    }\n    if (is.defined(options.lossless)) {\n      if (is.bool(options.lossless)) {\n        this.options.heifLossless = options.lossless;\n      } else {\n        throw is.invalidParameterError('lossless', 'boolean', options.lossless);\n      }\n    }\n    if (is.defined(options.compression)) {\n      if (is.string(options.compression) && is.inArray(options.compression, ['av1', 'hevc'])) {\n        this.options.heifCompression = options.compression;\n      } else {\n        throw is.invalidParameterError('compression', 'one of: av1, hevc', options.compression);\n      }\n    }\n    if (is.defined(options.speed)) {\n      if (is.integer(options.speed) && is.inRange(options.speed, 0, 9)) {\n        this.options.heifSpeed = options.speed;\n      } else {\n        throw is.invalidParameterError('speed', 'integer between 0 and 9', options.speed);\n      }\n    }\n    if (is.defined(options.chromaSubsampling)) {\n      if (is.string(options.chromaSubsampling) && is.inArray(options.chromaSubsampling, ['4:2:0', '4:4:4'])) {\n        this.options.heifChromaSubsampling = options.chromaSubsampling;\n      } else {\n        throw is.invalidParameterError('chromaSubsampling', 'one of: 4:2:0, 4:4:4', options.chromaSubsampling);\n      }\n    }\n  }\n  return this._updateFormatOut('heif', options);\n}\n\n/**\n * Force output to be raw, uncompressed pixel data.\n * Pixel ordering is left-to-right, top-to-bottom, without padding.\n * Channel ordering will be RGB or RGBA for non-greyscale colourspaces.\n *\n * @example\n * // Extract raw, unsigned 8-bit RGB pixel data from JPEG input\n * const { data, info } = await sharp('input.jpg')\n *   .raw()\n *   .toBuffer({ resolveWithObject: true });\n *\n * @example\n * // Extract alpha channel as raw, unsigned 16-bit pixel data from PNG input\n * const data = await sharp('input.png')\n *   .ensureAlpha()\n *   .extractChannel(3)\n *   .toColourspace('b-w')\n *   .raw({ depth: 'ushort' })\n *   .toBuffer();\n *\n * @param {Object} [options] - output options\n * @param {string} [options.depth='uchar'] - bit depth, one of: char, uchar (default), short, ushort, int, uint, float, complex, double, dpcomplex\n * @throws {Error} Invalid options\n */\nfunction raw (options) {\n  if (is.object(options)) {\n    if (is.defined(options.depth)) {\n      if (is.string(options.depth) && is.inArray(options.depth,\n        ['char', 'uchar', 'short', 'ushort', 'int', 'uint', 'float', 'complex', 'double', 'dpcomplex']\n      )) {\n        this.options.rawDepth = options.depth;\n      } else {\n        throw is.invalidParameterError('depth', 'one of: char, uchar, short, ushort, int, uint, float, complex, double, dpcomplex', options.depth);\n      }\n    }\n  }\n  return this._updateFormatOut('raw');\n}\n\n/**\n * Use tile-based deep zoom (image pyramid) output.\n * Set the format and options for tile images via the `toFormat`, `jpeg`, `png` or `webp` functions.\n * Use a `.zip` or `.szi` file extension with `toFile` to write to a compressed archive file format.\n *\n * Warning: multiple sharp instances concurrently producing tile output can expose a possible race condition in some versions of libgsf.\n *\n * @example\n *  sharp('input.tiff')\n *   .png()\n *   .tile({\n *     size: 512\n *   })\n *   .toFile('output.dz', function(err, info) {\n *     // output.dzi is the Deep Zoom XML definition\n *     // output_files contains 512x512 tiles grouped by zoom level\n *   });\n *\n * @param {Object} [options]\n * @param {number} [options.size=256] tile size in pixels, a value between 1 and 8192.\n * @param {number} [options.overlap=0] tile overlap in pixels, a value between 0 and 8192.\n * @param {number} [options.angle=0] tile angle of rotation, must be a multiple of 90.\n * @param {string|Object} [options.background={r: 255, g: 255, b: 255, alpha: 1}] - background colour, parsed by the [color](https://www.npmjs.org/package/color) module, defaults to white without transparency.\n * @param {string} [options.depth] how deep to make the pyramid, possible values are `onepixel`, `onetile` or `one`, default based on layout.\n * @param {number} [options.skipBlanks=-1] threshold to skip tile generation, a value 0 - 255 for 8-bit images or 0 - 65535 for 16-bit images\n * @param {string} [options.container='fs'] tile container, with value `fs` (filesystem) or `zip` (compressed file).\n * @param {string} [options.layout='dz'] filesystem layout, possible values are `dz`, `iiif`, `zoomify` or `google`.\n * @param {boolean} [options.centre=false] centre image in tile.\n * @param {boolean} [options.center=false] alternative spelling of centre.\n * @param {string} [options.id='https://example.com/iiif'] when `layout` is `iiif`, sets the `@id` attribute of `info.json`\n * @returns {Sharp}\n * @throws {Error} Invalid parameters\n */\nfunction tile (options) {\n  if (is.object(options)) {\n    // Size of square tiles, in pixels\n    if (is.defined(options.size)) {\n      if (is.integer(options.size) && is.inRange(options.size, 1, 8192)) {\n        this.options.tileSize = options.size;\n      } else {\n        throw is.invalidParameterError('size', 'integer between 1 and 8192', options.size);\n      }\n    }\n    // Overlap of tiles, in pixels\n    if (is.defined(options.overlap)) {\n      if (is.integer(options.overlap) && is.inRange(options.overlap, 0, 8192)) {\n        if (options.overlap > this.options.tileSize) {\n          throw is.invalidParameterError('overlap', `<= size (${this.options.tileSize})`, options.overlap);\n        }\n        this.options.tileOverlap = options.overlap;\n      } else {\n        throw is.invalidParameterError('overlap', 'integer between 0 and 8192', options.overlap);\n      }\n    }\n    // Container\n    if (is.defined(options.container)) {\n      if (is.string(options.container) && is.inArray(options.container, ['fs', 'zip'])) {\n        this.options.tileContainer = options.container;\n      } else {\n        throw is.invalidParameterError('container', 'one of: fs, zip', options.container);\n      }\n    }\n    // Layout\n    if (is.defined(options.layout)) {\n      if (is.string(options.layout) && is.inArray(options.layout, ['dz', 'google', 'iiif', 'zoomify'])) {\n        this.options.tileLayout = options.layout;\n      } else {\n        throw is.invalidParameterError('layout', 'one of: dz, google, iiif, zoomify', options.layout);\n      }\n    }\n    // Angle of rotation,\n    if (is.defined(options.angle)) {\n      if (is.integer(options.angle) && !(options.angle % 90)) {\n        this.options.tileAngle = options.angle;\n      } else {\n        throw is.invalidParameterError('angle', 'positive/negative multiple of 90', options.angle);\n      }\n    }\n    // Background colour\n    this._setBackgroundColourOption('tileBackground', options.background);\n    // Depth of tiles\n    if (is.defined(options.depth)) {\n      if (is.string(options.depth) && is.inArray(options.depth, ['onepixel', 'onetile', 'one'])) {\n        this.options.tileDepth = options.depth;\n      } else {\n        throw is.invalidParameterError('depth', 'one of: onepixel, onetile, one', options.depth);\n      }\n    }\n    // Threshold to skip blank tiles\n    if (is.defined(options.skipBlanks)) {\n      if (is.integer(options.skipBlanks) && is.inRange(options.skipBlanks, -1, 65535)) {\n        this.options.tileSkipBlanks = options.skipBlanks;\n      } else {\n        throw is.invalidParameterError('skipBlanks', 'integer between -1 and 255/65535', options.skipBlanks);\n      }\n    } else if (is.defined(options.layout) && options.layout === 'google') {\n      this.options.tileSkipBlanks = 5;\n    }\n    // Center image in tile\n    const centre = is.bool(options.center) ? options.center : options.centre;\n    if (is.defined(centre)) {\n      this._setBooleanOption('tileCentre', centre);\n    }\n    // @id attribute for IIIF layout\n    if (is.defined(options.id)) {\n      if (is.string(options.id)) {\n        this.options.tileId = options.id;\n      } else {\n        throw is.invalidParameterError('id', 'string', options.id);\n      }\n    }\n  }\n  // Format\n  if (is.inArray(this.options.formatOut, ['jpeg', 'png', 'webp'])) {\n    this.options.tileFormat = this.options.formatOut;\n  } else if (this.options.formatOut !== 'input') {\n    throw is.invalidParameterError('format', 'one of: jpeg, png, webp', this.options.formatOut);\n  }\n  return this._updateFormatOut('dz');\n}\n\n/**\n * Set a timeout for processing, in seconds.\n * Use a value of zero to continue processing indefinitely, the default behaviour.\n *\n * The clock starts when libvips opens an input image for processing.\n * Time spent waiting for a libuv thread to become available is not included.\n *\n * @since 0.29.2\n *\n * @param {Object} options\n * @param {number} options.seconds - Number of seconds after which processing will be stopped\n * @returns {Sharp}\n */\nfunction timeout (options) {\n  if (!is.plainObject(options)) {\n    throw is.invalidParameterError('options', 'object', options);\n  }\n  if (is.integer(options.seconds) && is.inRange(options.seconds, 0, 3600)) {\n    this.options.timeoutSeconds = options.seconds;\n  } else {\n    throw is.invalidParameterError('seconds', 'integer between 0 and 3600', options.seconds);\n  }\n  return this;\n}\n\n/**\n * Update the output format unless options.force is false,\n * in which case revert to input format.\n * @private\n * @param {string} formatOut\n * @param {Object} [options]\n * @param {boolean} [options.force=true] - force output format, otherwise attempt to use input format\n * @returns {Sharp}\n */\nfunction _updateFormatOut (formatOut, options) {\n  if (!(is.object(options) && options.force === false)) {\n    this.options.formatOut = formatOut;\n  }\n  return this;\n}\n\n/**\n * Update a boolean attribute of the this.options Object.\n * @private\n * @param {string} key\n * @param {boolean} val\n * @throws {Error} Invalid key\n */\nfunction _setBooleanOption (key, val) {\n  if (is.bool(val)) {\n    this.options[key] = val;\n  } else {\n    throw is.invalidParameterError(key, 'boolean', val);\n  }\n}\n\n/**\n * Called by a WriteableStream to notify us it is ready for data.\n * @private\n */\nfunction _read () {\n  /* istanbul ignore else */\n  if (!this.options.streamOut) {\n    this.options.streamOut = true;\n    this._pipeline();\n  }\n}\n\n/**\n * Invoke the C++ image processing pipeline\n * Supports callback, stream and promise variants\n * @private\n */\nfunction _pipeline (callback) {\n  if (typeof callback === 'function') {\n    // output=file/buffer\n    if (this._isStreamInput()) {\n      // output=file/buffer, input=stream\n      this.on('finish', () => {\n        this._flattenBufferIn();\n        sharp.pipeline(this.options, callback);\n      });\n    } else {\n      // output=file/buffer, input=file/buffer\n      sharp.pipeline(this.options, callback);\n    }\n    return this;\n  } else if (this.options.streamOut) {\n    // output=stream\n    if (this._isStreamInput()) {\n      // output=stream, input=stream\n      this.once('finish', () => {\n        this._flattenBufferIn();\n        sharp.pipeline(this.options, (err, data, info) => {\n          if (err) {\n            this.emit('error', err);\n          } else {\n            this.emit('info', info);\n            this.push(data);\n          }\n          this.push(null);\n        });\n      });\n      if (this.streamInFinished) {\n        this.emit('finish');\n      }\n    } else {\n      // output=stream, input=file/buffer\n      sharp.pipeline(this.options, (err, data, info) => {\n        if (err) {\n          this.emit('error', err);\n        } else {\n          this.emit('info', info);\n          this.push(data);\n        }\n        this.push(null);\n      });\n    }\n    return this;\n  } else {\n    // output=promise\n    if (this._isStreamInput()) {\n      // output=promise, input=stream\n      return new Promise((resolve, reject) => {\n        this.once('finish', () => {\n          this._flattenBufferIn();\n          sharp.pipeline(this.options, (err, data, info) => {\n            if (err) {\n              reject(err);\n            } else {\n              if (this.options.resolveWithObject) {\n                resolve({ data, info });\n              } else {\n                resolve(data);\n              }\n            }\n          });\n        });\n      });\n    } else {\n      // output=promise, input=file/buffer\n      return new Promise((resolve, reject) => {\n        sharp.pipeline(this.options, (err, data, info) => {\n          if (err) {\n            reject(err);\n          } else {\n            if (this.options.resolveWithObject) {\n              resolve({ data: data, info: info });\n            } else {\n              resolve(data);\n            }\n          }\n        });\n      });\n    }\n  }\n}\n\n/**\n * Decorate the Sharp prototype with output-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Object.assign(Sharp.prototype, {\n    // Public\n    toFile,\n    toBuffer,\n    withMetadata,\n    toFormat,\n    jpeg,\n    jp2,\n    png,\n    webp,\n    tiff,\n    avif,\n    heif,\n    gif,\n    raw,\n    tile,\n    timeout,\n    // Private\n    _updateFormatOut,\n    _setBooleanOption,\n    _read,\n    _pipeline\n  });\n};\n", "export default new Proxy({}, {\n  get() {\n    throw new Error('Module \"events\" has been externalized for browser compatibility and cannot be accessed in client code.')\n  }\n})", "'use strict';\n\nconst events = require('events');\nconst detectLibc = require('detect-libc');\n\nconst is = require('./is');\nconst platformAndArch = require('./platform')();\nconst sharp = require('./sharp');\n\n/**\n * An Object containing nested boolean values representing the available input and output formats/methods.\n * @member\n * @example\n * console.log(sharp.format);\n * @returns {Object}\n */\nconst format = sharp.format();\n\n/**\n * An Object containing the available interpolators and their proper values\n * @readonly\n * @enum {string}\n */\nconst interpolators = {\n  /** [Nearest neighbour interpolation](http://en.wikipedia.org/wiki/Nearest-neighbor_interpolation). Suitable for image enlargement only. */\n  nearest: 'nearest',\n  /** [Bilinear interpolation](http://en.wikipedia.org/wiki/Bilinear_interpolation). Faster than bicubic but with less smooth results. */\n  bilinear: 'bilinear',\n  /** [Bicubic interpolation](http://en.wikipedia.org/wiki/Bicubic_interpolation) (the default). */\n  bicubic: 'bicubic',\n  /** [LBB interpolation](https://github.com/jcupitt/libvips/blob/master/libvips/resample/lbb.cpp#L100). Prevents some \"[acutance](http://en.wikipedia.org/wiki/Acutance)\" but typically reduces performance by a factor of 2. */\n  locallyBoundedBicubic: 'lbb',\n  /** [Nohalo interpolation](http://eprints.soton.ac.uk/268086/). Prevents acutance but typically reduces performance by a factor of 3. */\n  nohalo: 'nohalo',\n  /** [VSQBS interpolation](https://github.com/jcupitt/libvips/blob/master/libvips/resample/vsqbs.cpp#L48). Prevents \"staircasing\" when enlarging. */\n  vertexSplitQuadraticBasisSpline: 'vsqbs'\n};\n\n/**\n * An Object containing the version numbers of libvips and its dependencies.\n * @member\n * @example\n * console.log(sharp.versions);\n */\nlet versions = {\n  vips: sharp.libvipsVersion()\n};\ntry {\n  versions = require(`../vendor/${versions.vips}/${platformAndArch}/versions.json`);\n} catch (err) {}\n\n/**\n * Gets or, when options are provided, sets the limits of _libvips'_ operation cache.\n * Existing entries in the cache will be trimmed after any change in limits.\n * This method always returns cache statistics,\n * useful for determining how much working memory is required for a particular task.\n *\n * @example\n * const stats = sharp.cache();\n * @example\n * sharp.cache( { items: 200 } );\n * sharp.cache( { files: 0 } );\n * sharp.cache(false);\n *\n * @param {Object|boolean} [options=true] - Object with the following attributes, or boolean where true uses default cache settings and false removes all caching\n * @param {number} [options.memory=50] - is the maximum memory in MB to use for this cache\n * @param {number} [options.files=20] - is the maximum number of files to hold open\n * @param {number} [options.items=100] - is the maximum number of operations to cache\n * @returns {Object}\n */\nfunction cache (options) {\n  if (is.bool(options)) {\n    if (options) {\n      // Default cache settings of 50MB, 20 files, 100 items\n      return sharp.cache(50, 20, 100);\n    } else {\n      return sharp.cache(0, 0, 0);\n    }\n  } else if (is.object(options)) {\n    return sharp.cache(options.memory, options.files, options.items);\n  } else {\n    return sharp.cache();\n  }\n}\ncache(true);\n\n/**\n * Gets or, when a concurrency is provided, sets\n * the number of threads _libvips'_ should create to process each image.\n *\n * The default value is the number of CPU cores,\n * except when using glibc-based Linux without jemalloc,\n * where the default is `1` to help reduce memory fragmentation.\n *\n * A value of `0` will reset this to the number of CPU cores.\n *\n * The maximum number of images that can be processed in parallel\n * is limited by libuv's `UV_THREADPOOL_SIZE` environment variable.\n *\n * This method always returns the current concurrency.\n *\n * @example\n * const threads = sharp.concurrency(); // 4\n * sharp.concurrency(2); // 2\n * sharp.concurrency(0); // 4\n *\n * @param {number} [concurrency]\n * @returns {number} concurrency\n */\nfunction concurrency (concurrency) {\n  return sharp.concurrency(is.integer(concurrency) ? concurrency : null);\n}\n/* istanbul ignore next */\nif (detectLibc.family === detectLibc.GLIBC && !sharp._isUsingJemalloc()) {\n  // Reduce default concurrency to 1 when using glibc memory allocator\n  sharp.concurrency(1);\n}\n\n/**\n * An EventEmitter that emits a `change` event when a task is either:\n * - queued, waiting for _libuv_ to provide a worker thread\n * - complete\n * @member\n * @example\n * sharp.queue.on('change', function(queueLength) {\n *   console.log('Queue contains ' + queueLength + ' task(s)');\n * });\n */\nconst queue = new events.EventEmitter();\n\n/**\n * Provides access to internal task counters.\n * - queue is the number of tasks this module has queued waiting for _libuv_ to provide a worker thread from its pool.\n * - process is the number of resize tasks currently being processed.\n *\n * @example\n * const counters = sharp.counters(); // { queue: 2, process: 4 }\n *\n * @returns {Object}\n */\nfunction counters () {\n  return sharp.counters();\n}\n\n/**\n * Get and set use of SIMD vector unit instructions.\n * Requires libvips to have been compiled with liborc support.\n *\n * Improves the performance of `resize`, `blur` and `sharpen` operations\n * by taking advantage of the SIMD vector unit of the CPU, e.g. Intel SSE and ARM NEON.\n *\n * @example\n * const simd = sharp.simd();\n * // simd is `true` if the runtime use of liborc is currently enabled\n * @example\n * const simd = sharp.simd(false);\n * // prevent libvips from using liborc at runtime\n *\n * @param {boolean} [simd=true]\n * @returns {boolean}\n */\nfunction simd (simd) {\n  return sharp.simd(is.bool(simd) ? simd : null);\n}\nsimd(true);\n\n/**\n * Decorate the Sharp class with utility-related functions.\n * @private\n */\nmodule.exports = function (Sharp) {\n  Sharp.cache = cache;\n  Sharp.concurrency = concurrency;\n  Sharp.counters = counters;\n  Sharp.simd = simd;\n  Sharp.format = format;\n  Sharp.interpolators = interpolators;\n  Sharp.versions = versions;\n  Sharp.queue = queue;\n};\n", "'use strict';\n\nconst Sharp = require('./constructor');\nrequire('./input')(Sharp);\nrequire('./resize')(Sharp);\nrequire('./composite')(Sharp);\nrequire('./operation')(Sharp);\nrequire('./colour')(Sharp);\nrequire('./channel')(Sharp);\nrequire('./output')(Sharp);\nrequire('./utility')(Sharp);\n\nmodule.exports = Sharp;\n", "export default require(\"./node_modules/sharp/lib/index.js\");"],
  "mappings": "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",
  "names": []
}
