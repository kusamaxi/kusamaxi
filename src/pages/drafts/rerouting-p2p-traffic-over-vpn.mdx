---
layout: ~/layouts/PostLayout.astro
draft: true
title: How to reroute traffic through a VPN tunnel
date: 2023-03-05
description:  Sometimes selfhosting has issue of not being able to expose your ports to the internet behind modem or router. In this article we will learn how to reroute traffic for polkadot p2p port through a VPN tunnel using WireGuard.
tags:
  - WireGuard
  - VPN
---

# How to reroute traffic through a VPN tunnel

## Introduction
We have been facing issue of not being able to expose our ports to WAN behind Japanese modem/router combo and language barrier is making
it hard to get help from ISP. So we decided to try WireGuard to reroute traffic through a VPN tunnel in close by Linode dedicated server
to see if we can get around the issue. WireGuard is a modern VPN protocol with state-of-the-art cryptography. It aims to be faster, simpler,
more useful, and more useful than IPsec, while avoiding the massive headache. It intends to be considerably more performant than OpenVPN.

## Setting up Dedicated Server with WireGuard
Purchased a Linode dedicated server with Arch linux on it due to its close by geolocation to our homenodes. We setup WireGuard on it
following the [official guide](https://www.wireguard.com/install/). We also setup a simple webserver on it to test the tunnel.

## Configuring WireGuard on homenodes
Most likely best option for this is to use innernet to manage WireGuard configuration. We will use innernet to generate WireGuard configuration
our exit server to be controller over that VPN network. 

## Configuring traffic

