---
layout: ~/layouts/PostLayout.astro
draft: false
title: Building and selfhosting Kusama validator
date: 2023-02-26
description: How to build and host Kusama validator at your home.
tags:
  - Kusama
  - blockchain
  - validator
  - selfhosting
  - nftables
  - firewall
  - linux
  - hardware
---

# Building and selfhosting Kusama validator

## Introduction
Kusama network is a canary network for Polkadot and thanks to its 1000 validator program, it is by far the most decentralized smart contract capable cryptocurrency network
geographically and growingly outside of datacenters. This article will guide you through the process of building and hosting your own Kusama validator.

## Hardware
Kusama network has quite high system requirements for a validator. It is recommended to have at least 16GB of RAM, 1TB NVME and 4 CPU cores.
I have decided to build two validators both a being bit over the specs for the task but capable to run other services as well.

![Hardware components in mITX motherboard](/assets/post/building-hosting-validator/mitx-hardware.webp)
### kusamaxi01 validator
##### Hardware
- CPU: AMD RYZEN 5 5600G 6-Core 3.7 GHz (4.6 GHz Max Boost) Socket AM4 65W
- RAM: 64GB DDR4 3600MHz
- Motherboard: MSI A550M-ITX/ac
- SSD: 2TB NVME 7200Mb/s
- PSU: 160W PicoPSU with 12V 10A AC/DC adapter
- Case: Rgeek 200mm x 200mm x 80mm
#### Performance
![Hardware performance](/assets/post/building-hosting-validator/hw-performance.webp)

![Hardware performance](/assets/post/building-hosting-validator/mitx-hardware-cardboard.webp)
### kusamaxi02 validator
- CPU: AMD RYZEN 5 5600G 6-Core 3.7 GHz (4.6 GHz Max Boost) Socket AM4 65W
- RAM: 8GB DDR4 3200MHz (to be upgraded to 64GB)
- Motherboard: MSI A520M-ITX/ac
- SSD: 2TB NVME 7200Mb/s
- PSU: 160W PicoPSU with 12V 10A AC/DC adapter
- CASE: Currently using a cardboard box waiting for RGeek case to arrive

## Operating system
I have decided to use Arch Linux tamed with 6.1 LTS kernel. Exact distro in use is [Endeavouros_Cassini_neo_22_12.iso](https://endeavouros.com/latest-release/).
It is a rolling release distro based on Arch Linux with a lot of preinstalled software and a lot of preconfigured settings.
Bootloader is systemd-boot that is run from USB disk booting root in the NVME drive to have a always possibility to remotely
reinstall the system. mkinitcpio is replaced with dracut compared to default Arch linux installation. 

## Software
We use systemd services to run the validator and polkacli helper to manage the validator. Polkacli is a simple cli tool to manage
the validator. It is written in bash and can be found [here](https://kusamaxi.com/projects/polkacli/).

## Benchmarking
For benchmarking we recommend 'polkadot benchmark machine -d .' command. It will run a benchmarking process and create a file
and our inhouse product [nvme.sh](https://gist.github.com/hitchhooker/cd4d32b34f8dd7840fdbdc4ad420986c)
